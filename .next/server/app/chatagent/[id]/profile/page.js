(()=>{var e={};e.id=508,e.ids=[508],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=a(7096),s=a(6132),n=a(7284),i=a.n(n),l=a(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["chatagent",{children:["[id]",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9848)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7896)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\layout.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,9470)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\profile\\page.tsx"],u="/chatagent/[id]/profile/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/chatagent/[id]/profile/page",pathname:"/chatagent/[id]/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1998:(e,t,a)=>{Promise.resolve().then(a.bind(a,6565))},6565:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(3854),s=a(4218),n=a(1018),i=a(6104),l=a(3441),o=a(6361),d=a(8028);function c(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),a=parseInt(e.id),{accessToken:c}=(0,o.tN)(),{chatAgents:u,updateChatAgent:x}=(0,o.V6)(),[p,g]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0),[b,y]=(0,s.useState)(!1),[f,j]=(0,s.useState)({name:"",description:"",role_type:"customer_service",tone:"professional",instructions:""});(0,s.useEffect)(()=>{v()},[a]);let v=async()=>{try{if(h(!0),(0,d.s6)()){let e=u.find(e=>e.id===a);if(e)g(e),j({name:e.name||"",description:e.description||"",role_type:e.role_type||"general",tone:e.tone||"friendly",instructions:e.instructions||""});else{t.push("/chatagent");return}}else{let e=await d.TJ.getChatAgent(a,c);g(e),j({name:e.name||"",description:e.description||"",role_type:e.role_type||"general",tone:e.tone||"friendly",instructions:e.instructions||""})}}catch(e){console.error("Failed to load agent:",e),t.push("/chatagent")}finally{h(!1)}},k=e=>{j(t=>({...t,...e}))},N=async()=>{if(a&&c)try{y(!0);let e={name:f.name,description:f.description,role:f.role_type,instructions:f.instructions,ai_config:{...p?.ai_config,tone:f.tone}};if((0,d.s6)()){let t={...p,...e};x(a,t),alert("Agent updated successfully!")}else await d.TJ.updateChatAgent(a,e,c),alert("Agent updated successfully!");await v()}catch(e){console.error("Failed to update agent:",e),alert("Failed to update agent. Please try again.")}finally{y(!1)}};return m?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-500",children:"Loading agent..."})}):p?(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Agent Profile"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Update basic information and AI configuration for ",p.name]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(i.z,{variant:"outline",onClick:()=>t.push(`/chatagent/${a}`),children:"Cancel"}),r.jsx(i.z,{onClick:N,disabled:b,className:"bg-green-600 hover:bg-green-700",children:b?"Saving...":"Save Changes"})]})]}),r.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6",children:r.jsx(l.Z,{data:f,onChange:e=>k(e)})}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 Next Steps After Editing"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>t.push(`/chatagent/${a}/knowledgebase`),className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83D\uDCDA"}),r.jsx("span",{children:"Update Knowledge Base"})]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>t.push(`/chatagent/${a}/test`),className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83E\uDDEA"}),r.jsx("span",{children:"Test Agent"})]}),(0,r.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>t.push(`/chatagent/${a}`),className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83D\uDC41️"}),r.jsx("span",{children:"View Agent Details"})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Agent not found"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The requested agent could not be found."}),r.jsx(i.z,{onClick:()=>t.push("/chatagent"),children:"Back to Agents"})]})}},3441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(3854),s=a(6937);let n=[{value:"sales",label:"Sales Assistant",description:"Helps with product inquiries and sales"},{value:"support",label:"Customer Support",description:"Handles customer service and technical issues"},{value:"lead_gen",label:"Lead Generation",description:"Qualifies leads and gathers contact information"},{value:"general",label:"General Assistant",description:"Multi-purpose AI assistant"}],i=[{value:"friendly",label:"Friendly",description:"Warm and approachable tone"},{value:"professional",label:"Professional",description:"Formal and business-like tone"},{value:"casual",label:"Casual",description:"Relaxed and conversational tone"}];function l({data:e,onChange:t}){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agent Name *"}),r.jsx("input",{type:"text",value:e.name,onChange:e=>t({name:e.target.value}),placeholder:"e.g., Sales Assistant, Support Bot",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.name.length>0&&e.name.length<3&&r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Agent name must be at least 3 characters long"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),r.jsx("textarea",{value:e.description,onChange:e=>t({description:e.target.value}),placeholder:"Brief description of what this agent does...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.description.length,"/200 characters"]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Agent Role *"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(a=>(0,r.jsxs)("button",{type:"button",onClick:()=>t({role_type:a.value}),className:`p-4 rounded-lg border-2 text-left transition-all ${e.role_type===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:a.label}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]},a.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Communication Tone"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:i.map(a=>(0,r.jsxs)("button",{type:"button",onClick:()=>t({tone:a.value}),className:`p-4 rounded-lg border-2 text-left transition-all ${e.tone===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:a.label}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]},a.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Instructions"}),r.jsx("textarea",{value:e.instructions,onChange:e=>t({instructions:e.target.value}),placeholder:"Provide specific instructions or personality traits for your agent...",rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.instructions.length,"/500 characters"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(s.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name||"New Agent"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.role_type," • ",e.tone," tone"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 Tips for creating a great agent"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[r.jsx("li",{children:"• Choose a clear, descriptive name that reflects the agent's purpose"}),r.jsx("li",{children:"• Write a concise description explaining what the agent helps with"}),r.jsx("li",{children:"• Select the role that best matches your intended use case"}),r.jsx("li",{children:"• Choose a tone that matches your brand and target audience"}),r.jsx("li",{children:"• Add custom instructions for specific behaviors or knowledge"})]})]})]})}},9848:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var r=a(5153);let s=(0,r.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\app\chatagent\[id]\profile\page.tsx`),{__esModule:n,$$typeof:i}=s,l=s.default,o=l}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[519,557,108,839,316],()=>a(9123));module.exports=r})();