(()=>{var e={};e.id=30,e.ids=[30],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6160:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=a(7096),l=a(6132),r=a(7284),i=a.n(r),n=a(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["chatagent",{children:["[id]",{children:["tools",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3477)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\tools\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7896)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\layout.tsx"]}]},{loading:[()=>Promise.resolve().then(a.bind(a,9470)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\[id]\\tools\\page.tsx"],x="/chatagent/[id]/tools/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/chatagent/[id]/tools/page",pathname:"/chatagent/[id]/tools",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8486:(e,t,a)=>{Promise.resolve().then(a.bind(a,6385))},6385:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(3854),l=a(4218),r=a(1018),i=a(518),n=a(6443),d=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var c=a(6937),x=a(1976),m=a(7716),u=a(4024),h=a(6104),g=a(6361),p=a(8028);function y(){let e=(0,r.useRouter)(),t=(0,r.useParams)(),{accessToken:a}=(0,g.tN)(),{currentChatAgent:d,setChatAgentTools:y}=(0,g.V6)(),b=parseInt(t.id),[j,v]=(0,l.useState)([]),[f,N]=(0,l.useState)([]),[k,w]=(0,l.useState)(!0),[D,z]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!1);(0,l.useEffect)(()=>{a&&b&&A()},[b,a]);let A=async()=>{if(a)try{w(!0);let e=await p.Jh.getTools(a),t=await p.TJ.getChatAgentTools(b,a);v(e);let s=t.tools.map(e=>e.id);N(s),console.log("\uD83D\uDD27 TOOLS LOADED:"),console.log("\uD83D\uDCCB Available tools:",e.length),console.log("\uD83D\uDD17 Agent linked tools:",s.length),console.log("✅ Selected tool IDs:",s)}catch(e){console.error("Failed to fetch tools data:",e),alert("Failed to load tools data. Please try again.")}finally{w(!1)}},T=e=>{N(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},_=async()=>{if(a&&d)try{P(!0);let e=await p.TJ.updateChatAgentTools(b,{tool_ids:f},a);if(e.success){let t=await p.TJ.getChatAgentTools(b,a),s=t.tools.map(e=>e.id);N(s),console.log("✅ TOOLS UPDATED:"),console.log("\uD83D\uDD17 New linked tools:",s),console.log("\uD83D\uDCCA Response:",e),alert(`Successfully updated tools for agent. ${e.linked_tools.length} tools linked.`)}}catch(e){console.error("Failed to save tool configuration:",e),alert("Failed to save configuration. Please try again.")}finally{P(!1)}},Z=e=>{switch(e){case"system":return s.jsx(i.Z,{className:"w-4 h-4 text-blue-600"});case"custom":return s.jsx(n.Z,{className:"w-4 h-4 text-green-600"});case"integration":return s.jsx(o,{className:"w-4 h-4 text-purple-600"});default:return s.jsx(c.Z,{className:"w-4 h-4 text-gray-600"})}},S=e=>f.includes(e.id)?{status:"Linked",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}:e.enabled?{status:"Available",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}:{status:"Disabled",color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"},M=e=>{switch(e){case"realtime":return s.jsx(x.Z,{className:"w-3 h-3 text-yellow-500"});case"background":return s.jsx(i.Z,{className:"w-3 h-3 text-blue-500"});case"scheduled":return s.jsx(o,{className:"w-3 h-3 text-purple-500"});default:return s.jsx(c.Z,{className:"w-3 h-3 text-gray-500"})}};return k?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"AI Tools & Capabilities"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Configure tools and integrations for ",d.name]})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(h.z,{onClick:()=>{z(!0),A().finally(()=>z(!1))},disabled:D,variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(m.Z,{className:`w-4 h-4 ${D?"animate-spin":""}`}),s.jsx("span",{children:D?"Refreshing...":"Refresh"})]}),(0,s.jsxs)(h.z,{onClick:()=>e.push(`/chatagent/${b}/tools/new`),disabled:0===j.length,className:"flex items-center space-x-2",children:[s.jsx(u.Z,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Tool"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Tools"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select tools to enable for this agent"})]}),j.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j.length," tool",1!==j.length?"s":""," available"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.length," selected"]})]}),s.jsx("div",{className:"grid gap-4 max-h-96 overflow-y-auto",children:j.map(e=>{let t=S(e),a=!e.enabled&&!f.includes(e.id);return s.jsx("div",{className:`relative p-4 border rounded-lg cursor-pointer transition-all ${f.includes(e.id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":a?"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onClick:()=>!a&&T(e.id),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`flex-shrink-0 w-4 h-4 rounded border-2 mt-1 ${f.includes(e.id)?"border-blue-500 bg-blue-500":"border-gray-300 dark:border-gray-600"}`,children:f.includes(e.id)&&s.jsx("div",{className:"w-full h-full bg-white rounded-sm flex items-center justify-center",children:s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[Z(e.type),s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.color}`,children:t.status}),M(e.execution_mode)]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-500",children:[s.jsx("span",{className:"flex items-center space-x-1",children:(0,s.jsxs)("span",{children:["Type: ",e.type]})}),(0,s.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]})]})},e.id)})})]}):(0,s.jsxs)("div",{className:"text-center py-16",children:[s.jsx(n.Z,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No Tools Available"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"No tools are currently available. Tools provide additional capabilities for your chat agent."}),(0,s.jsxs)(h.z,{disabled:!0,size:"lg",className:"opacity-50 cursor-not-allowed",children:[s.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Add Tool (No tools available)"]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6 sticky top-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Selected Tools:"}),f.length>0?s.jsx("div",{className:"space-y-2",children:f.map(e=>{let t=j.find(t=>t.id===e);return s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-3 py-2 rounded-lg text-sm",children:t?.name||`Tool-${e}`},e)})}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No tools selected"})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-700",children:s.jsx(h.z,{onClick:_,disabled:C,className:"w-full",children:C?"Saving...":"Save Configuration"})})]})]})})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Chat agent not found"}),s.jsx(h.z,{onClick:()=>e.push("/chatagent"),children:"Back to Chat Agents"})]})}},4024:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7716:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6443:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},3477:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>d});var s=a(5153);let l=(0,s.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\app\chatagent\[id]\tools\page.tsx`),{__esModule:r,$$typeof:i}=l,n=l.default,d=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[519,557,108,839,316],()=>a(6160));module.exports=s})();