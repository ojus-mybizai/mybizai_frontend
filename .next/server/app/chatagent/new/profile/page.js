(()=>{var e={};e.id=371,e.ids=[371],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3897:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>g,tree:()=>d});var r=a(7096),s=a(6132),n=a(7284),i=a.n(n),l=a(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["chatagent",{children:["new",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3413)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\new\\profile\\page.tsx"]}]},{}]},{}]},{loading:[()=>Promise.resolve().then(a.bind(a,9470)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\chatagent\\new\\profile\\page.tsx"],u="/chatagent/new/profile/page",p={require:a,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/chatagent/new/profile/page",pathname:"/chatagent/new/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3205:(e,t,a)=>{Promise.resolve().then(a.bind(a,7912))},7912:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(3854),s=a(4218),n=a(1018),i=a(6104),l=a(1102),o=a(3441),d=a(6361),c=a(8028);let u={name:"",description:"",role_type:"general",tone:"friendly",instructions:""},p=e=>{switch(e){case"sales":return{orders:!0,catalog_lookup:!0,appointments:!0};case"support":case"lead_gen":return{orders:!1,catalog_lookup:!0,appointments:!0};default:return{orders:!1,catalog_lookup:!1,appointments:!1}}};function g(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{accessToken:a}=(0,d.tN)(),{addChatAgent:g}=(0,d.V6)(),[m,x]=(0,s.useState)(u),[h,b]=(0,s.useState)(!1),y=t.get("agentId");(0,s.useEffect)(()=>{y&&a&&f(parseInt(y))},[y,a]);let f=async e=>{try{b(!0);let t=await c.TJ.getChatAgent(e,a);x({name:t.name,description:t.description||"",role_type:"general",tone:"friendly",instructions:""})}catch(e){console.error("Failed to fetch agent for editing:",e)}finally{b(!1)}},v=async()=>{if(!m.name.trim()){alert("Please fill in all required fields");return}try{b(!0);let t=d.zF.getState().activeBusiness?.id;if(!t){alert("No active business found. Please set up your business first.");return}let r={name:m.name,role_type:m.role_type,business_id:t,description:m.description,capabilities:p(m.role_type)};if(console.log("\uD83D\uDE80 Submitting agent data:",r),(0,c.s6)()){let t={id:Date.now(),...r,status:"active",deployed:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_active:new Date().toISOString()};g(t),e.push(`/chatagent/new/knowledgebase?agentId=${t.id}`)}else{let t=await c.TJ.createChatAgent(r,a);console.log("✅ Agent creation response:",t),g(t),e.push(`/chatagent/new/knowledgebase?agentId=${t.id}`)}}catch(e){console.error("❌ Failed to create agent:",e),console.error("❌ Error details:",e instanceof Error?e.message:e),alert("Failed to create agent. Please try again.")}finally{b(!1)}};return r.jsx(l.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agent Profile"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Set up the basic information and behavior for your chat agent"})]}),r.jsx(o.Z,{data:m,onChange:e=>x(t=>({...t,...e}))}),r.jsx("div",{className:"flex justify-end",children:r.jsx(i.z,{onClick:v,disabled:!m.name.trim()||"general"===m.role_type||h,isLoading:h,className:"min-w-[120px]",children:h?"Creating...":"Create Agent & Continue"})})]})})}},3441:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(3854),s=a(6937);let n=[{value:"sales",label:"Sales Assistant",description:"Helps with product inquiries and sales"},{value:"support",label:"Customer Support",description:"Handles customer service and technical issues"},{value:"lead_gen",label:"Lead Generation",description:"Qualifies leads and gathers contact information"},{value:"general",label:"General Assistant",description:"Multi-purpose AI assistant"}],i=[{value:"friendly",label:"Friendly",description:"Warm and approachable tone"},{value:"professional",label:"Professional",description:"Formal and business-like tone"},{value:"casual",label:"Casual",description:"Relaxed and conversational tone"}];function l({data:e,onChange:t}){return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agent Name *"}),r.jsx("input",{type:"text",value:e.name,onChange:e=>t({name:e.target.value}),placeholder:"e.g., Sales Assistant, Support Bot",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.name.length>0&&e.name.length<3&&r.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Agent name must be at least 3 characters long"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),r.jsx("textarea",{value:e.description,onChange:e=>t({description:e.target.value}),placeholder:"Brief description of what this agent does...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.description.length,"/200 characters"]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Agent Role *"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(a=>(0,r.jsxs)("button",{type:"button",onClick:()=>t({role_type:a.value}),className:`p-4 rounded-lg border-2 text-left transition-all ${e.role_type===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:a.label}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]},a.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Communication Tone"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:i.map(a=>(0,r.jsxs)("button",{type:"button",onClick:()=>t({tone:a.value}),className:`p-4 rounded-lg border-2 text-left transition-all ${e.tone===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"}`,children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:a.label}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.description})]},a.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Instructions"}),r.jsx("textarea",{value:e.instructions,onChange:e=>t({instructions:e.target.value}),placeholder:"Provide specific instructions or personality traits for your agent...",rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[e.instructions.length,"/500 characters"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:r.jsx(s.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name||"New Agent"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.role_type," • ",e.tone," tone"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 Tips for creating a great agent"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[r.jsx("li",{children:"• Choose a clear, descriptive name that reflects the agent's purpose"}),r.jsx("li",{children:"• Write a concise description explaining what the agent helps with"}),r.jsx("li",{children:"• Select the role that best matches your intended use case"}),r.jsx("li",{children:"• Choose a tone that matches your brand and target audience"}),r.jsx("li",{children:"• Add custom instructions for specific behaviors or knowledge"})]})]})]})}},3413:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var r=a(5153);let s=(0,r.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\app\chatagent\new\profile\page.tsx`),{__esModule:n,$$typeof:i}=s,l=s.default,o=l}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[519,557,108,839,600],()=>a(3897));module.exports=r})();