(()=>{var e={};e.id=461,e.ids=[461],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},18:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>b,tree:()=>d});var t=a(7096),r=a(6132),l=a(7284),i=a.n(l),o=a(2564),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(s,n);let d=["",{children:["onboarding",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5123)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\onboarding\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\onboarding\\page.tsx"],c="/onboarding/page",p={require:a,loadChunk:()=>Promise.resolve()},b=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/onboarding/page",pathname:"/onboarding",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5042:(e,s,a)=>{Promise.resolve().then(a.bind(a,1251))},1251:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var t=a(3854),r=a(4218),l=a(1018),i=a(8959),o=a(8954),n=a(8466),d=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);var c=a(6974),p=a(2258),b=a(6104),m=a(6820),g=a(5088),y=a(9737),x=a(4391),h=a(6361),f=a(9839);let v=[{value:"service",label:"Service-based"},{value:"product",label:"Product-based"},{value:"both",label:"Both Service & Product"}],D=[{value:"1",label:"Just me"},{value:"2-5",label:"2-5 employees"},{value:"6-10",label:"6-10 employees"},{value:"11-25",label:"11-25 employees"},{value:"26-50",label:"26-50 employees"},{value:"51-100",label:"51-100 employees"},{value:"100+",label:"100+ employees"}];function N(){let[e,s]=(0,r.useState)(!1),[a,d]=(0,r.useState)(""),[N,k]=(0,r.useState)({}),j=(0,l.useRouter)(),{accessToken:w}=(0,h.tN)(),{setUser:O}=(0,h.LM)(),{businessData:_,updateBusinessData:P,setBusinessInfo:A,completeOnboarding:M}=(0,h.zF)();console.log("\uD83D\uDCCB ONBOARDING FORM INITIAL STATE:"),console.log("\uD83D\uDD11 Access Token:",w?"Available":"Missing"),console.log("\uD83C\uDFE2 Business Data:",_);let E=()=>{if(!_)return console.log("❌ VALIDATION: No business data available"),!1;let e={};return _.name.trim()||(e.name="Business name is required"),_.business_type||(e.business_type="Please select business type"),_.phone_number.trim()||(e.phone_number="Phone number is required"),console.log("\uD83D\uDD0D FORM VALIDATION:"),console.log("\uD83D\uDCCA Business Data State:",_),console.log("❌ Validation Errors:",e),console.log("✅ Validation Result:",0===Object.keys(e).length),k(e),0===Object.keys(e).length},I=async e=>{if(console.log("\uD83D\uDE80 ONBOARDING FORM SUBMIT STARTED"),e.preventDefault(),d(""),!E()){console.log("\uD83D\uDED1 FORM VALIDATION FAILED - Submission stopped");return}console.log("✅ FORM VALIDATION PASSED - Proceeding with submission"),s(!0);try{if(w)try{let e={name:_?.name||"",business_type:_?.business_type,phone_number:_?.phone_number||"",..._?.number_of_employees&&{number_of_employees:_.number_of_employees},..._?.description&&{description:_.description},..._?.address&&{address:_.address},..._?.website&&{website:_.website}};console.log("\uD83D\uDE80 ONBOARDING REQUEST DEBUG:"),console.log("\uD83D\uDCE1 Endpoint: POST /api/v1/business/onboarding"),console.log("\uD83D\uDD10 Authorization: Bearer [TOKEN PROVIDED]"),console.log("\uD83D\uDCE6 Request Payload:",JSON.stringify(e,null,2)),console.log("\uD83C\uDFE2 Full Business Data State:",JSON.stringify(_,null,2));let s=await f.iJ.businessOnboarding(e,w);if(console.log("✅ ONBOARDING RESPONSE:",JSON.stringify(s,null,2)),s.business_onboarded){A(s);try{let e=await f.iJ.getMe(w);O(e)}catch(e){console.warn("Failed to refresh user after onboarding:",e)}j.push("/dashboard");return}}catch(e){console.warn("❌ ONBOARDING API ERROR:",e),e instanceof Error?(console.log("\uD83D\uDCDD Error message:",e.message),d(e.message)):(console.log("\uD83D\uDCDD Unknown error type:",e),d("Failed to save business information. Please check your data and try again."));return}if(M(),w)try{let e=await f.iJ.getMe(w);O(e)}catch(e){console.warn("Failed to refresh user after onboarding (fallback):",e)}j.push("/dashboard")}catch(e){e instanceof f.MS?d(e.message):d("An unexpected error occurred. Please try again.")}finally{s(!1),console.log("\uD83C\uDFC1 ONBOARDING FORM SUBMIT COMPLETED")}},S=(e,s)=>{P({[e]:s}),N[e]&&k(s=>({...s,[e]:""})),a&&d("")};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-black dark:to-gray-900 p-4",children:(0,t.jsxs)(x.Zb,{className:"w-full max-w-2xl",children:[(0,t.jsxs)(x.Ol,{className:"text-center",children:[t.jsx(x.ll,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Tell us about your business"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Help us customize your experience by sharing some details about your business"})]}),t.jsx(x.aY,{children:(0,t.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[a&&t.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:a}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx(i.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),t.jsx(m.I,{label:"Business Name",placeholder:"Enter your business name",value:_?.name||"",onChange:e=>S("name",e.target.value),error:N.name,className:"pl-10"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(i.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),t.jsx(m.I,{label:"Website (Optional)",placeholder:"https://yourwebsite.com",value:_?.website||"",onChange:e=>S("website",e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"relative md:col-span-2",children:[t.jsx(o.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),t.jsx(m.I,{label:"Business Address (Optional)",placeholder:"Full business address",value:_?.address||"",onChange:e=>S("address",e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(n.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400 z-10"}),t.jsx(g.P,{label:"Number of Employees (Optional)",placeholder:"Select team size",options:D,value:_?.number_of_employees||"",onChange:e=>S("number_of_employees",e.target.value),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(u,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400 z-10"}),t.jsx(g.P,{label:"Type of Business",placeholder:"Select business type",options:v,value:_?.business_type||"",onChange:e=>S("business_type",e.target.value),error:N.business_type,className:"pl-10"})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(c.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),t.jsx(m.I,{label:"Phone Number",placeholder:"Your business phone",value:_?.phone_number||"",onChange:e=>S("phone_number",e.target.value),error:N.phone_number,className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(p.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),t.jsx(y.g,{label:"Business Description (Optional)",placeholder:"Tell us about your business...",value:_?.description||"",onChange:e=>S("description",e.target.value),className:"pl-10 min-h-[100px]"})]}),t.jsx(b.z,{type:"submit",className:"w-full",size:"lg",isLoading:e,disabled:e,children:e?"Saving...":"Save & Continue"})]})})]})})}},6820:(e,s,a)=>{"use strict";a.d(s,{I:()=>i});var t=a(3854),r=a(4218),l=a(6370);let i=(0,r.forwardRef)(({className:e,type:s,label:a,error:r,...i},o)=>(0,t.jsxs)("div",{className:"space-y-2",children:[a&&t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),t.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",r&&"border-red-500 focus-visible:ring-red-500",e),ref:o,...i}),r&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]}));i.displayName="Input"},9737:(e,s,a)=>{"use strict";a.d(s,{g:()=>i});var t=a(3854),r=a(4218),l=a(6370);let i=(0,r.forwardRef)(({className:e,label:s,error:a,...r},i)=>(0,t.jsxs)("div",{className:"space-y-2",children:[s&&t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:s}),t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",a&&"border-red-500 focus-visible:ring-red-500",e),ref:i,...r}),a&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a})]}));i.displayName="Textarea"},8959:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},2258:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},8954:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6974:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8466:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5123:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(4656),r=a(5153);let l=(0,r.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\components\onboarding\OnboardingForm.tsx`),{__esModule:i,$$typeof:o}=l,n=l.default;function d(){return t.jsx(n,{})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[519,108,839,595],()=>a(18));module.exports=t})();