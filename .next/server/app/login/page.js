(()=>{var e={};e.id=626,e.ids=[626],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>g,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=a(7096),r=a(6132),n=a(7284),i=a.n(n),l=a(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2805)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\login\\page.tsx"],g="/login/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1638:(e,t,a)=>{Promise.resolve().then(a.bind(a,149))},149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(3854),r=a(4218),n=a(1018),i=a(5548),l=a.n(i),o=a(438),d=a(888),c=a(3614),g=a(7546),u=a(6104),m=a(6820),p=a(4391),h=a(6361),b=a(23),x=a(9839);function f(){let[e,t]=(0,r.useState)({email:"",password:""}),[a,i]=(0,r.useState)({}),[f,y]=(0,r.useState)(!1),[w,v]=(0,r.useState)(""),[k,A]=(0,r.useState)(!1),C=(0,n.useRouter)(),L=(0,h.tN)(e=>e.login),_=(0,h.LM)(e=>e.setUser),j=(0,h.zF)(e=>e.setActiveBusiness),N=async t=>{t.preventDefault(),i({}),v("");let a={};if(e.email?(0,b.vV)(e.email)||(a.email="Please enter a valid email address"):a.email="Email is required",e.password||(a.password="Password is required"),Object.keys(a).length>0){i(a);return}A(!0);try{let t=await x.iJ.login({email:e.email,password:e.password});if(console.log(t),"verification_required"in t&&t.verification_required){let a=new URLSearchParams({email:e.email,user_id:String(t.user_id),reason:"login_required"});C.push(`/verify-email?${a.toString()}`);return}if(!("access_token"in t))throw Error("Invalid login response - missing access token");L(t.access_token,t.token_type||"bearer");let a=await x.iJ.getMe(t.access_token);if(console.log("User data fetched successfully:",a),!a)throw Error("Failed to load user data");if(_({id:a.id,email:a.email,full_name:a.full_name||"",phone_number:a.phone_number||"",businesses:a.businesses||[]}),a.businesses&&a.businesses.length>0){let e={id:a.businesses[0].id,owner_id:a.businesses[0].owner_id,name:a.businesses[0].name,website:a.businesses[0].website,address:a.businesses[0].address,phone_number:a.businesses[0].phone_number,number_of_employees:a.businesses[0].number_of_employees,type:a.businesses[0].type,business_type:a.businesses[0].business_type,description:a.businesses[0].description,extra_data:a.businesses[0].extra_data,onboarding_completed:a.businesses[0].onboarding_completed,created_at:a.businesses[0].created_at,updated_at:a.businesses[0].updated_at};j(e)}let s=a.businesses&&a.businesses.length>0;C.push(s?"/dashboard":"/onboarding")}catch(e){console.error("Login error:",e),e instanceof x.MS?401===e.status?v("Invalid email or password. Please try again."):v(e.message||"Login failed. Please try again."):v("Unable to connect to the server. Please check your internet connection.")}finally{A(!1)}},z=(e,a)=>{t(t=>({...t,[e]:a})),i(t=>({...t,[e]:""})),w&&v("")};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-black dark:to-gray-900 p-4",children:[(0,s.jsxs)(p.Ol,{className:"text-center",children:[s.jsx(p.ll,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Sign in to your account to continue"})]}),s.jsx(p.aY,{children:(0,s.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[w&&s.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:w}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(m.I,{type:"email",placeholder:"Enter your email",value:e.email,onChange:e=>z("email",e.target.value),error:a.email,className:"pl-10 text-black"})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(m.I,{type:f?"text":"password",placeholder:"Enter your password",value:e.password,onChange:e=>z("password",e.target.value),error:a.password,className:"pl-10 pr-10 text-black"}),s.jsx("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:f?s.jsx(c.Z,{className:"h-4 w-4"}):s.jsx(g.Z,{className:"h-4 w-4"})})]}),s.jsx(u.z,{type:"submit",className:"w-full",isLoading:k,disabled:k,children:k?"Signing in...":"Sign In"}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",s.jsx(l(),{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Sign up"})]})]})})]})}},4391:(e,t,a)=>{"use strict";a.d(t,{Ol:()=>l,Zb:()=>i,aY:()=>c,ll:()=>o});var s=a(3854),r=a(4218),n=a(6370);let i=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-800 dark:bg-gray-900",e),...t}));i.displayName="Card";let l=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=(0,r.forwardRef)(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent"},6820:(e,t,a)=>{"use strict";a.d(t,{I:()=>i});var s=a(3854),r=a(4218),n=a(6370);let i=(0,r.forwardRef)(({className:e,type:t,label:a,error:r,...i},l)=>(0,s.jsxs)("div",{className:"space-y-2",children:[a&&s.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",r&&"border-red-500 focus-visible:ring-red-500",e),ref:l,...i}),r&&s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]}));i.displayName="Input"},6361:(e,t,a)=>{"use strict";a.d(t,{tN:()=>s.t,zF:()=>n.z,iC:()=>m,V6:()=>o,sx:()=>d,Ln:()=>c,I1:()=>u,Rx:()=>g,LM:()=>r.L});var s=a(1728),r=a(7034),n=a(4057),i=a(4012),l=a(6965);let o=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({chatAgents:[],currentChatAgent:null,isLoading:!1,error:null,setChatAgents:t=>{e({chatAgents:t})},setCurrentChatAgent:t=>{e({currentChatAgent:t})},addChatAgent:t=>{e(e=>({chatAgents:[...e.chatAgents,t]}))},updateChatAgent:(t,a)=>{e(e=>({chatAgents:e.chatAgents.map(e=>e.id===t?{...e,...a}:e),currentChatAgent:e.currentChatAgent?.id===t?{...e.currentChatAgent,...a}:e.currentChatAgent}))},removeChatAgent:t=>{e(e=>({chatAgents:e.chatAgents.filter(e=>e.id!==t),currentChatAgent:e.currentChatAgent?.id===t?null:e.currentChatAgent}))},clearChatAgents:()=>{e({chatAgents:[],currentChatAgent:null,isLoading:!1,error:null})},setChatAgentChannels:(t,a)=>{e(e=>({chatAgents:e.chatAgents.map(e=>e.id===t?{...e,channels:a}:e),currentChatAgent:e.currentChatAgent?.id===t?{...e.currentChatAgent,channels:a}:e.currentChatAgent}))},setChatAgentKnowledgeBases:(t,a)=>{e(e=>({chatAgents:e.chatAgents.map(e=>e.id===t?{...e,knowledge_bases:a}:e),currentChatAgent:e.currentChatAgent?.id===t?{...e.currentChatAgent,knowledge_bases:a}:e.currentChatAgent}))},setChatAgentTools:(t,a)=>{e(e=>({chatAgents:e.chatAgents.map(e=>e.id===t?{...e,tools:a}:e),currentChatAgent:e.currentChatAgent?.id===t?{...e.currentChatAgent,tools:a}:e.currentChatAgent}))},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})}})),{name:"chatagent-storage",partialize:e=>({chatAgents:e.chatAgents,currentChatAgent:e.currentChatAgent})})),d=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({contacts:[],isLoading:!1,filters:{search:"",phone:"",email:""},setContacts:t=>{e({contacts:t})},addContact:t=>{e(e=>({contacts:[...e.contacts,t]}))},updateContact:(t,a)=>{e(e=>({contacts:e.contacts.map(e=>e.id===t?a:e)}))},removeContact:t=>{e(e=>({contacts:e.contacts.filter(e=>e.id!==t)}))},setLoading:t=>{e({isLoading:t})},clearContacts:()=>{e({contacts:[],isLoading:!1})},setFilters:t=>{e(e=>({filters:{...e.filters,...t}}))},clearFilters:()=>{e({filters:{search:"",phone:"",email:""}})}})),{name:"contact-storage",partialize:e=>({contacts:e.contacts})})),c=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({stats:null,setStats:t=>{e({stats:t})},updateStats:t=>{e(e=>({stats:e.stats?{...e.stats,...t}:null}))},clearStats:()=>{e({stats:null})},refreshStats:async()=>{console.log("Refreshing dashboard stats...")}})),{name:"dashboard-storage",partialize:e=>({stats:e.stats})})),g=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({leads:[],currentLead:null,isLoading:!1,pagination:{page:1,per_page:20,total:0,total_pages:0},setLeads:(t,a)=>{a?e({leads:t,pagination:a}):e({leads:t})},setCurrentLead:t=>{e({currentLead:t})},addLead:t=>{e(e=>({leads:[...e.leads,t]}))},updateLead:(t,a)=>{e(e=>({leads:e.leads.map(e=>e.id===t?a:e),currentLead:e.currentLead?.id===t?a:e.currentLead}))},removeLead:t=>{e(e=>({leads:e.leads.filter(e=>e.id!==t),currentLead:e.currentLead?.id===t?null:e.currentLead}))},setLoading:t=>{e({isLoading:t})},setPagination:t=>{e({pagination:t})},clearLeads:()=>{e({leads:[],currentLead:null,isLoading:!1,pagination:{page:1,per_page:20,total:0,total_pages:0}})}})),{name:"lead-storage",partialize:e=>({leads:e.leads,currentLead:e.currentLead,pagination:e.pagination})}));a(8296),a(5936);let u=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({knowledgeBases:[],isLoading:!1,error:null,setKnowledgeBases:t=>{e({knowledgeBases:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},addKnowledgeBase:t=>{e(e=>({knowledgeBases:[...e.knowledgeBases,t]}))},updateKnowledgeBase:(t,a)=>{e(e=>({knowledgeBases:e.knowledgeBases.map(e=>e.id===t?{...e,...a}:e)}))},removeKnowledgeBase:t=>{e(e=>({knowledgeBases:e.knowledgeBases.filter(e=>e.id!==t)}))},clearKnowledgeBases:()=>{e({knowledgeBases:[],isLoading:!1,error:null})}})),{name:"knowledgebase-storage",partialize:e=>({knowledgeBases:e.knowledgeBases})}));(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({integrations:[],isLoading:!1,error:null,setIntegrations:t=>{e({integrations:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},addIntegration:t=>{e(e=>({integrations:[...e.integrations,t]}))},updateIntegration:(t,a)=>{e(e=>({integrations:e.integrations.map(e=>e.id===t?{...e,...a}:e)}))},removeIntegration:t=>{e(e=>({integrations:e.integrations.filter(e=>e.id!==t)}))},clearIntegrations:()=>{e({integrations:[],isLoading:!1,error:null})}})),{name:"integration-storage",partialize:e=>({integrations:e.integrations})}));let m=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({items:[],templates:[],isLoading:!1,searchQuery:"",filters:{},setItems:t=>{e({items:t})},addItem:t=>{e(e=>({items:[...e.items,t]}))},updateItem:(t,a)=>{e(e=>({items:e.items.map(e=>e.id===t?a:e)}))},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},setLoading:t=>{e({isLoading:t})},setSearchQuery:t=>{e({searchQuery:t})},setFilters:t=>{e({filters:t})},clearFilters:()=>{e({filters:{}})},clearItems:()=>{e({items:[],templates:[],isLoading:!1,searchQuery:"",filters:{}})},setTemplates:t=>{e({templates:t})},addTemplate:t=>{e(e=>({templates:[...e.templates,t]}))},updateTemplate:(t,a)=>{e(e=>({templates:e.templates.map(e=>e.id===t?a:e)}))},removeTemplate:t=>{e(e=>({templates:e.templates.filter(e=>e.id!==t)}))},clearTemplates:()=>{e({templates:[]})}})),{name:"catalog-storage",partialize:e=>({items:e.items,templates:e.templates,searchQuery:e.searchQuery,filters:e.filters})}))},23:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>s,vV:()=>r});let s=e=>{let t=[];return e.email?r(e.email)||t.push("Please enter a valid email address"):t.push("Email is required"),e.name.trim()?e.name.trim().length<2?t.push("Name must be at least 2 characters"):e.name.trim().length>100&&t.push("Name must be no more than 100 characters"):t.push("Name is required"),e.password?e.password.length<8&&t.push("Password must be at least 8 characters"):t.push("Password is required"),{isValid:0===t.length,errors:t}},r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},3614:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},7546:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},888:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},438:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2805:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(4656),r=a(5153);let n=(0,r.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\components\auth\LoginForm.tsx`),{__esModule:i,$$typeof:l}=n,o=n.default;function d(){return s.jsx(o,{})}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[519,108,839],()=>a(3068));module.exports=s})();