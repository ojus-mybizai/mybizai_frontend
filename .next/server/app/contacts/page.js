(()=>{var e={};e.id=613,e.ids=[613],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=s(7096),r=s(6132),i=s(7284),l=s.n(i),n=s(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8426)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\contacts\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6197)),"D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\111\\mybizai\\mybizai\\mybizai.app\\app\\contacts\\page.tsx"],x="/contacts/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/contacts/page",pathname:"/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5772:(e,t,s)=>{Promise.resolve().then(s.bind(s,193))},193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(3854),r=s(4218),i=s(1018),l=s(1871),n=s(4024),c=s(4234),o=s(3294),d=s(4920),x=s(7416),m=s(6974),h=s(438),p=s(6104),u=s(6820),g=s(4391),y=s(6361),j=s(9839);function f(){let e=(0,i.useRouter)(),{accessToken:t}=(0,y.tN)(),{contacts:s,filters:f,isLoading:b,setContacts:v,setFilters:N,clearFilters:w,setLoading:k,removeContact:z}=(0,y.sx)(),[Z,C]=(0,r.useState)(!1),[_,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{q()},[t,f]);let q=async()=>{if(t){k(!0);try{let e={search:f.search||void 0,phone:f.phone||void 0,email:f.email||void 0},s=await j.Zc.getContacts(t,e);v(s)}catch(e){console.error("Failed to fetch contacts:",e)}finally{k(!1)}}},F=async e=>{if(t){if(_!==e){P(e),setTimeout(()=>P(null),3e3);return}try{await j.Zc.deleteContact(e,t),z(e),P(null)}catch(e){console.error("Failed to delete contact:",e),e instanceof Error&&alert(`Failed to delete contact: ${e.message}`)}}},D=f.search||f.phone||f.email;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 flex items-center justify-center shadow-lg",children:a.jsx(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Contacts"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Customer directory"})]})]}),(0,a.jsxs)(p.z,{onClick:()=>e.push("/contacts/new"),className:"flex items-center space-x-2",children:[a.jsx(n.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Contact"})]})]}),a.jsx(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx(u.I,{placeholder:"Search contacts by name...",value:f.search,onChange:e=>N({search:e.target.value}),className:"pl-10"})]})}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>C(!Z),className:"flex items-center space-x-2",children:[a.jsx(o.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"}),D&&a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-2 h-2"})]}),D&&a.jsx(p.z,{variant:"outline",onClick:w,children:a.jsx(d.Z,{className:"w-4 h-4"})})]}),Z&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(u.I,{placeholder:"Filter by phone...",value:f.phone,onChange:e=>N({phone:e.target.value})}),a.jsx(u.I,{placeholder:"Filter by email...",value:f.email,onChange:e=>N({email:e.target.value})})]})]})}),b?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500",children:"Loading contacts..."})}):0===s.length?a.jsx(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"text-center py-12",children:[a.jsx(l.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No contacts found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:D?"No contacts match your current filters. Try adjusting your search criteria.":"Get started by adding your first contact."}),!D&&a.jsx(p.z,{onClick:()=>e.push("/contacts/new"),children:"Add Your First Contact"})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(t=>(0,a.jsxs)(g.Zb,{className:"hover:shadow-md transition-shadow",children:[a.jsx(g.Ol,{className:"pb-3",children:a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:a.jsx(l.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[a.jsx(g.ll,{className:"text-lg",children:t.full_name}),t.company&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsx(x.Z,{className:"w-3 h-3 mr-1"}),t.company]})]})]})})}),(0,a.jsxs)(g.aY,{className:"space-y-3",children:[t.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),a.jsx("a",{href:`tel:${t.phone}`,className:"hover:text-blue-600",children:t.phone})]}),t.email&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),a.jsx("a",{href:`mailto:${t.email}`,className:"hover:text-blue-600",children:t.email})]}),t.notes&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:t.notes}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsx(p.z,{variant:"outline",size:"sm",onClick:()=>e.push(`/contacts/${t.id}`),children:"View Details"}),a.jsx(p.z,{variant:"outline",size:"sm",onClick:()=>F(t.id),className:_===t.id?"bg-red-50 text-red-600 border-red-200":"",children:_===t.id?"Confirm Delete":"Delete"})]})]})]},t.id))}),!b&&s.length>0&&(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",s.length," contact",1!==s.length?"s":"",D&&" matching your filters"]})]})}},3294:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},4234:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8426:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`D:\111\mybizai\mybizai\mybizai.app\app\contacts\page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,c=n}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[519,108,839,845],()=>s(4929));module.exports=a})();