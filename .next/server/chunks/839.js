"use strict";exports.id=839,exports.ids=[839],exports.modules={9839:(e,a,t)=>{t.d(a,{C7:()=>h,Jh:()=>c,MS:()=>r,TJ:()=>i,Zc:()=>s,_h:()=>d,iJ:()=>n,zN:()=>l});class r extends Error{constructor(e,a,t){super(a),this.status=e,this.details=t,this.name="ApiError"}}async function o(e,a={}){let t=`https://backend-server.mybizai.in/api/v1${e}`,o={...a.headers||{}};!a.body||a.body instanceof FormData||a.body instanceof URLSearchParams||(o["Content-Type"]="application/json");let n={...a,headers:o};try{console.log("\uD83D\uDD04 API REQUEST:",{url:t,method:a.method||"GET",headers:{...o,...a.headers?.Authorization?{Authorization:"Bearer [HIDDEN]"}:{}},body:a.body?a.body instanceof FormData?"FormData":a.body:void 0});let e=await fetch(t,n);if(console.log("\uD83D\uDCE5 API RESPONSE:",{status:e.status,statusText:e.statusText,headers:Object.fromEntries(e.headers.entries())}),!e.ok){if(401===e.status)throw new r(e.status,"Session expired. Please log in again.","auth_expired");let a=`HTTP error! status: ${e.status}`,t=null;try{let r=await e.json();console.log("❌ API ERROR RESPONSE BODY:",r),!1===r.success&&r.error?(a=r.error.message,t=r.error.details):a=r.detail||r.message||a}catch(t){a=e.statusText||a}throw new r(e.status,a,t)}if(204===e.status)return null;let s=await e.json();return console.log("✅ API SUCCESS RESPONSE:",s),s}catch(e){if(e instanceof r)throw e;throw new r(0,"Network error or server unavailable")}}let n={login:async e=>{try{let a=await o("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return console.log("✅ API LOGIN SUCCESS RESPONSE:",a),"verification_required"in a.data&&a.data.verification_required,a.data}catch(e){if(e instanceof r)throw e;throw new r(0,"Login failed. Please check your credentials and try again.")}},signup:async e=>o("/auth/signup",{method:"POST",body:JSON.stringify(e)}),verifyEmail:async e=>o("/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),resendOTP:async e=>o("/auth/resend-otp",{method:"POST",body:JSON.stringify({user_id:e})}),getMe:async e=>o("/auth/users/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),businessOnboarding:async(e,a)=>{console.log("\uD83C\uDFE2 BUSINESS ONBOARDING API CALL:"),console.log("\uD83D\uDCE4 Sending to:","/business/onboarding"),console.log("\uD83D\uDCCB Data:",e),console.log("\uD83D\uDD11 Token:",a?"Bearer [PROVIDED]":"MISSING");let t=await o("/business/onboarding",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)});return console.log("\uD83D\uDCE8 BUSINESS ONBOARDING RESPONSE:",t),t},getCurrentBusiness:async e=>o("/business/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),updateCurrentBusiness:async(e,a)=>o("/business/me",{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),getCatalogItems:async(e,a)=>{let t=a?"?"+new URLSearchParams(Object.entries(a).reduce((e,[a,t])=>(null!=t&&""!==t&&(e[a]=String(t)),e),{})).toString():"";return o(`/catalog/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}})},getCatalogItem:async(e,a)=>o(`/catalog/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createCatalogItem:async(e,a)=>o("/catalog/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateCatalogItem:async(e,a,t)=>o(`/catalog/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteCatalogItem:async(e,a)=>o(`/catalog/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),toggleCatalogItemAvailability:async(e,a,t)=>o(`/catalog/${e}/availability`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({availability:a})}),uploadCatalogImage:async(e,a)=>{let t=new FormData;return t.append("file",e),o("/catalog/upload-image",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:t})},createCatalogItemWithImage:async(e,a)=>{let t=new FormData;return t.append("name",e.name),e.description&&t.append("description",String(e.description)),e.category&&t.append("category",String(e.category)),t.append("price",String(e.price)),e.currency&&t.append("currency",String(e.currency)),e.availability&&t.append("availability",String(e.availability)),e.type&&t.append("type",String(e.type)),void 0!==e.template_id&&null!==e.template_id&&t.append("template_id",String(e.template_id)),t.append("extra_data",JSON.stringify(e.extra_data)),e.image&&t.append("image",e.image),o("/catalog/with-image",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:t})},getCatalogCategories:async e=>o("/catalog/categories/list",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getCatalogStatsSummary:async e=>o("/catalog/stats/summary",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getCatalogTemplates:async e=>o("/catalog/templates",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getCatalogTemplate:async(e,a)=>o(`/catalog/templates/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createCatalogTemplate:async(e,a)=>o("/catalog/templates",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateCatalogTemplate:async(e,a,t)=>o(`/catalog/templates/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteCatalogTemplate:async(e,a)=>o(`/catalog/templates/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),bulkUploadCatalog:async(e,a,t)=>{let r=new FormData;return r.append("file",e),r.append("field_mapping",JSON.stringify(a)),o("/catalog/bulk-upload",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:r})}},s={getContacts:async(e,a)=>{let t=a?"?"+new URLSearchParams(Object.entries(a).reduce((e,[a,t])=>(null!=t&&""!==t&&(e[a]=String(t)),e),{})).toString():"";return o(`/contacts/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}})},getContact:async(e,a)=>o(`/contacts/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createContact:async(e,a)=>o("/contacts/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateContact:async(e,a,t)=>o(`/contacts/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteContact:async(e,a)=>o(`/contacts/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),getLeads:async(e,a)=>{let t=a?"?"+new URLSearchParams(Object.entries(a).reduce((e,[a,t])=>(null!=t&&""!==t&&(e[a]=String(t)),e),{})).toString():"";return o(`/leads/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}})},getLead:async(e,a)=>o(`/leads/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createLead:async(e,a)=>o("/leads/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateLead:async(e,a,t)=>o(`/leads/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteLead:async(e,a)=>o(`/leads/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),getLeadStats:async e=>o("/leads/stats/summary",{method:"GET",headers:{Authorization:`Bearer ${e}`}})},i={getChatAgents:async e=>o("/chat_agents/",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getChatAgent:async(e,a)=>o(`/chat_agents/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createChatAgent:async(e,a)=>o("/chat_agents/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateChatAgent:async(e,a,t)=>o(`/chat_agents/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteChatAgent:async(e,a)=>o(`/chat_agents/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),getChatAgentKnowledgeBases:async(e,a)=>o(`/chat_agents/${e}/knowledge_bases`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),updateChatAgentKnowledgeBases:async(e,a,t)=>o(`/chat_agents/${e}/knowledge_bases`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),getChatAgentChannels:async(e,a)=>o(`/chat_agents/${e}/channels`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),updateChatAgentChannels:async(e,a,t)=>o(`/chat_agents/${e}/channels`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),getChatAgentTools:async(e,a)=>o(`/chat_agents/${e}/tools`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),updateChatAgentTools:async(e,a,t)=>o(`/chat_agents/${e}/tools`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),testChatAgent:async(e,a,t)=>o(`/chat_agents/${e}/test`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deployChatAgent:async(e,a)=>o(`/chat_agents/${e}/deploy`,{method:"POST",headers:{Authorization:`Bearer ${a}`}})},d={getKnowledgeBases:async e=>{let a=await o("/knowledge_base/",{method:"GET",headers:{Authorization:`Bearer ${e}`}});return console.log("response from backendS",a),a},getKnowledgeBase:async(e,a)=>o(`/knowledge_base/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createKnowledgeBase:async(e,a)=>{if(!e.file)return o("/knowledge_base/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)});{let t=new FormData;return t.append("title",e.title),e.category&&t.append("category",e.category),t.append("file",e.file),o("/knowledge_base/upload",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:t})}},updateKnowledgeBase:async(e,a,t)=>o(`/knowledge_base/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteKnowledgeBase:async(e,a)=>o(`/knowledge_base/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})},h={getChannels:async e=>o("/channels/",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getChannel:async(e,a)=>o(`/channels/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createChannel:async(e,a)=>o("/channels/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateChannel:async(e,a,t)=>o(`/channels/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteChannel:async(e,a)=>o(`/channels/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})},c={getTools:async e=>o("/tools/",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),getTool:async(e,a)=>o(`/tools/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),createTool:async(e,a)=>o("/tools/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),updateTool:async(e,a,t)=>o(`/tools/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteTool:async(e,a)=>o(`/tools/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}})},l={getConversations:async(e,a)=>{let t=a?"?"+new URLSearchParams(Object.entries(a).reduce((e,[a,t])=>(null!=t&&(e[a]=String(t)),e),{})).toString():"";return o(`/convo/${t}`,{method:"GET",headers:{Authorization:`Bearer ${e}`}})},createConversation:async(e,a)=>o("/convo/",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify(e)}),getConversation:async(e,a)=>o(`/convo/${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}}),updateConversation:async(e,a,t)=>o(`/convo/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),deleteConversation:async(e,a)=>o(`/convo/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`}}),addMessage:async(e,a,t)=>o(`/convo/${e}/messages`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),updateSummary:async(e,a,t)=>o(`/convo/${e}/summary`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(a)}),getConversationMessages:async(e,a,t)=>{let r=t?"?"+new URLSearchParams(Object.entries(t).reduce((e,[a,t])=>(null!=t&&(e[a]=String(t)),e),{})).toString():"";return o(`/convo/${e}/messages${r}`,{method:"GET",headers:{Authorization:`Bearer ${a}`}})}}}};