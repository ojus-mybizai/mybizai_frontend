"use strict";exports.id=448,exports.ids=[448],exports.modules={1448:(e,a,l)=>{l.d(a,{Z:()=>h});var t=l(3854),r=l(4218),s=l(6802),i=l(9496),d=l(4920),n=l(2882),c=l(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var m=l(6104),x=l(6820),u=l(9737),g=l(5088),p=l(4391);function h({initialData:e,templates:a,onSubmit:l,onCancel:c,isLoading:h=!1}){let[b,v]=(0,r.useState)(1),[y,f]=(0,r.useState)(null),[j,N]=(0,r.useState)({name:e?.name||"",description:e?.description||"",category:e?.category||"",price:e?.price||0,currency:e?.currency||"USD",availability:e?.availability||"available",type:e?.type||"product",images:e?.images||[],template_fields:e?.template_fields||{}}),[k,w]=(0,r.useState)({}),[C,S]=(0,r.useState)([]),[_,I]=(0,r.useState)([]),P=[{number:1,title:"Basic Information",description:"Name, description, and pricing"},{number:2,title:"Template Fields",description:"Custom fields from your template"},{number:3,title:"Review & Submit",description:"Confirm all details"}];(0,r.useEffect)(()=>{a.length>0&&!y&&f(a[0])},[a,y]);let Z=e=>{let a={};return 1===e&&(j.name.trim()||(a.name="Name is required"),j.description.trim()||(a.description="Description is required"),j.category.trim()||(a.category="Category is required"),j.price<=0&&(a.price="Price must be greater than 0")),2===e&&y&&y.fields.forEach(e=>{e.required&&!j.template_fields[e.id]&&(a[`template_${e.id}`]=`${e.label} is required`)}),w(a),0===Object.keys(a).length},$=(e,a)=>{N(l=>({...l,[e]:a})),k[e]&&w(a=>({...a,[e]:""}))},E=(e,a)=>{N(l=>({...l,template_fields:{...l.template_fields,[e]:a}})),k[`template_${e}`]&&w(a=>({...a,[`template_${e}`]:""}))},R=e=>{S(a=>a.filter((a,l)=>l!==e)),I(a=>a.filter((a,l)=>l!==e))},D=async()=>{if(Z(b)){let e={...j,images:[],template_fields:Object.keys(j.template_fields).length>0?j.template_fields:void 0};await l(e,C)}},T=e=>{let a=j.template_fields[e.id]||"",l=k[`template_${e.id}`];switch(e.type){case"text":return t.jsx(x.I,{label:e.label,value:a,onChange:a=>E(e.id,a.target.value),error:l,placeholder:`Enter ${e.label.toLowerCase()}`});case"number":return t.jsx(x.I,{type:"number",label:e.label,value:a,onChange:a=>E(e.id,parseFloat(a.target.value)||0),error:l,placeholder:`Enter ${e.label.toLowerCase()}`});case"textarea":return t.jsx(u.g,{label:e.label,value:a,onChange:a=>E(e.id,a.target.value),error:l,placeholder:`Enter ${e.label.toLowerCase()}`});case"dropdown":return t.jsx(g.P,{label:e.label,options:[{value:"",label:`Select ${e.label.toLowerCase()}`},...(e.options||[]).map(e=>({value:e,label:e}))],value:a,onChange:a=>E(e.id,a.target.value),error:l});case"boolean":return(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:e.label}),t.jsx(g.P,{options:[{value:"",label:"Select option"},{value:"true",label:"Yes"},{value:"false",label:"No"}],value:a.toString(),onChange:a=>E(e.id,"true"===a.target.value),error:l})]});case"date":return t.jsx(x.I,{type:"date",label:e.label,value:a,onChange:a=>E(e.id,a.target.value),error:l});default:return null}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:P.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${b>=e.number?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-500"}`,children:b>e.number?t.jsx(s.Z,{className:"w-5 h-5"}):e.number}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("p",{className:`text-sm font-medium ${b>=e.number?"text-blue-600":"text-gray-500"}`,children:e.title}),t.jsx("p",{className:"text-xs text-gray-500",children:e.description})]}),a<P.length-1&&t.jsx("div",{className:`w-16 h-0.5 mx-4 ${b>e.number?"bg-blue-600":"bg-gray-300"}`})]},e.number))}),(0,t.jsxs)(p.Zb,{children:[t.jsx(p.Ol,{children:t.jsx(p.ll,{children:P[b-1].title})}),(0,t.jsxs)(p.aY,{className:"space-y-6",children:[1===b&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(x.I,{label:"Item Name",value:j.name,onChange:e=>$("name",e.target.value),error:k.name,placeholder:"Enter item name"}),t.jsx(x.I,{label:"Category",value:j.category,onChange:e=>$("category",e.target.value),error:k.category,placeholder:"e.g., Electronics, Clothing, Services"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(x.I,{type:"number",label:"Price",value:j.price,onChange:e=>$("price",parseFloat(e.target.value)||0),error:k.price,placeholder:"0.00"}),t.jsx(g.P,{label:"Currency",options:[{value:"USD",label:"USD ($)"},{value:"EUR",label:"EUR (€)"},{value:"GBP",label:"GBP (\xa3)"},{value:"INR",label:"INR (₹)"}],value:j.currency,onChange:e=>$("currency",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(g.P,{label:"Type",options:[{value:"product",label:"Product"},{value:"service",label:"Service"}],value:j.type,onChange:e=>$("type",e.target.value)}),t.jsx(g.P,{label:"Availability",options:[{value:"available",label:"Available"},{value:"out_of_stock",label:"Out of Stock"},{value:"discontinued",label:"Discontinued"}],value:j.availability,onChange:e=>$("availability",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(u.g,{label:"Description",value:j.description,onChange:e=>$("description",e.target.value),error:k.description,placeholder:"Describe your item...",className:"min-h-[120px]"}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Images"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[t.jsx(i.Z,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Upload multiple images for your catalog item"}),t.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let a=Array.from(e.target.files||[]);if(0===a.length)return;let l=a.filter(e=>e.type.startsWith("image/"));S(e=>[...e,...l]),l.forEach(e=>{let a=new FileReader;a.onload=e=>{I(a=>[...a,e.target?.result])},a.readAsDataURL(e)})},className:"hidden",id:"image-upload"}),(0,t.jsxs)("label",{htmlFor:"image-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 cursor-pointer",children:[t.jsx(i.Z,{className:"w-4 h-4 mr-2"}),"Select Images"]})]}),C.length>0&&t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:_.map((e,a)=>(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("img",{src:e,alt:`Preview ${a+1}`,className:"w-full h-24 object-cover rounded-lg border"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:t.jsx(m.z,{type:"button",variant:"outline",size:"sm",onClick:()=>R(a),className:"bg-white text-red-600 hover:bg-red-50",children:t.jsx(d.Z,{className:"w-4 h-4"})})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:C[a]?.name})]},a))})]})]})]})]}),2===b&&t.jsx("div",{children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No template defined. Please create one in Catalog Templates."}),t.jsx(m.z,{variant:"outline",onClick:()=>window.open("/catalog/templates","_blank"),children:"Create Template"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[a.length>1&&t.jsx(g.P,{label:"Select Template",options:a.map(e=>({value:e.id,label:e.name})),value:y?.id||"",onChange:e=>{let l=a.find(a=>a.id===e.target.value);f(l||null)}}),y&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.fields.map(e=>t.jsx("div",{children:T(e)},e.id))})]})}),3===b&&t.jsx("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Basic Information"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Name:"})," ",j.name]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Category:"})," ",j.category]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Price:"})," ",j.currency," ",j.price]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Type:"})," ",j.type]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Availability:"})," ",j.availability]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Description:"})," ",j.description]}),C.length>0&&(0,t.jsxs)("div",{children:[t.jsx("span",{className:"font-medium",children:"Images:"})," ",C.length," file(s) selected"]})]})]}),y&&Object.keys(j.template_fields).length>0&&(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Template Fields"}),t.jsx("div",{className:"space-y-2 text-sm",children:y.fields.map(e=>{let a=j.template_fields[e.id];return void 0!==a&&""!==a?(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.label,":"]})," ",a.toString()]},e.id):null})})]})]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(m.z,{variant:"outline",onClick:1===b?c:()=>{v(e=>Math.max(e-1,1))},className:"flex items-center space-x-2",children:[t.jsx(n.Z,{className:"w-4 h-4"}),t.jsx("span",{children:1===b?"Cancel":"Previous"})]}),(0,t.jsxs)(m.z,{onClick:3===b?D:()=>{Z(b)&&v(e=>Math.min(e+1,3))},isLoading:h,disabled:h,className:"flex items-center space-x-2",children:[t.jsx("span",{children:3===b?"Submit":"Next"}),b<3&&t.jsx(o,{className:"w-4 h-4"})]})]})]})}},6820:(e,a,l)=>{l.d(a,{I:()=>i});var t=l(3854),r=l(4218),s=l(6370);let i=(0,r.forwardRef)(({className:e,type:a,label:l,error:r,...i},d)=>(0,t.jsxs)("div",{className:"space-y-2",children:[l&&t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l}),t.jsx("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",r&&"border-red-500 focus-visible:ring-red-500",e),ref:d,...i}),r&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]}));i.displayName="Input"},9737:(e,a,l)=>{l.d(a,{g:()=>i});var t=l(3854),r=l(4218),s=l(6370);let i=(0,r.forwardRef)(({className:e,label:a,error:l,...r},i)=>(0,t.jsxs)("div",{className:"space-y-2",children:[a&&t.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:a}),t.jsx("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",l&&"border-red-500 focus-visible:ring-red-500",e),ref:i,...r}),l&&t.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:l})]}));i.displayName="Textarea"},2882:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6802:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9496:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(3708);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}};