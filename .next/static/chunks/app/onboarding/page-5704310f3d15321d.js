(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8461],{8253:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},3523:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6637:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},6142:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2741:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},5750:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});var a=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},3885:function(e,r,s){Promise.resolve().then(s.bind(s,6622))},6622:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return k}});var a=s(7437),t=s(2265),l=s(4033),n=s(8253),o=s(6142),i=s(5750),u=s(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,u.Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);var c=s(2741),b=s(6637),g=s(2247),f=s(4977),p=s(8674),y=s(2606),m=s(1844),h=s(3062),x=s(9843);let v=[{value:"service",label:"Service-based"},{value:"product",label:"Product-based"},{value:"both",label:"Both Service & Product"}],N=[{value:"1",label:"Just me"},{value:"2-5",label:"2-5 employees"},{value:"6-10",label:"6-10 employees"},{value:"11-25",label:"11-25 employees"},{value:"26-50",label:"26-50 employees"},{value:"51-100",label:"51-100 employees"},{value:"100+",label:"100+ employees"}];function k(){let[e,r]=(0,t.useState)(!1),[s,u]=(0,t.useState)(""),[k,D]=(0,t.useState)({}),j=(0,l.useRouter)(),{accessToken:w}=(0,h.tN)(),{setUser:O}=(0,h.LM)(),{businessData:C,updateBusinessData:R,setBusinessInfo:_,completeOnboarding:A}=(0,h.zF)();console.log("\uD83D\uDCCB ONBOARDING FORM INITIAL STATE:"),console.log("\uD83D\uDD11 Access Token:",w?"Available":"Missing"),console.log("\uD83C\uDFE2 Business Data:",C);let E=()=>{if(!C)return console.log("❌ VALIDATION: No business data available"),!1;let e={};return C.name.trim()||(e.name="Business name is required"),C.business_type||(e.business_type="Please select business type"),C.phone_number.trim()||(e.phone_number="Phone number is required"),console.log("\uD83D\uDD0D FORM VALIDATION:"),console.log("\uD83D\uDCCA Business Data State:",C),console.log("❌ Validation Errors:",e),console.log("✅ Validation Result:",0===Object.keys(e).length),D(e),0===Object.keys(e).length},M=async e=>{if(console.log("\uD83D\uDE80 ONBOARDING FORM SUBMIT STARTED"),e.preventDefault(),u(""),!E()){console.log("\uD83D\uDED1 FORM VALIDATION FAILED - Submission stopped");return}console.log("✅ FORM VALIDATION PASSED - Proceeding with submission"),r(!0);try{if(w)try{let e={name:(null==C?void 0:C.name)||"",business_type:null==C?void 0:C.business_type,phone_number:(null==C?void 0:C.phone_number)||"",...(null==C?void 0:C.number_of_employees)&&{number_of_employees:C.number_of_employees},...(null==C?void 0:C.description)&&{description:C.description},...(null==C?void 0:C.address)&&{address:C.address},...(null==C?void 0:C.website)&&{website:C.website}};console.log("\uD83D\uDE80 ONBOARDING REQUEST DEBUG:"),console.log("\uD83D\uDCE1 Endpoint: POST /api/v1/business/onboarding"),console.log("\uD83D\uDD10 Authorization: Bearer [TOKEN PROVIDED]"),console.log("\uD83D\uDCE6 Request Payload:",JSON.stringify(e,null,2)),console.log("\uD83C\uDFE2 Full Business Data State:",JSON.stringify(C,null,2));let r=await x.iJ.businessOnboarding(e,w);if(console.log("✅ ONBOARDING RESPONSE:",JSON.stringify(r,null,2)),r.business_onboarded){_(r);try{let e=await x.iJ.getMe(w);O(e)}catch(e){console.warn("Failed to refresh user after onboarding:",e)}j.push("/dashboard");return}}catch(e){console.warn("❌ ONBOARDING API ERROR:",e),e instanceof Error?(console.log("\uD83D\uDCDD Error message:",e.message),u(e.message)):(console.log("\uD83D\uDCDD Unknown error type:",e),u("Failed to save business information. Please check your data and try again."));return}if(A(),w)try{let e=await x.iJ.getMe(w);O(e)}catch(e){console.warn("Failed to refresh user after onboarding (fallback):",e)}j.push("/dashboard")}catch(e){e instanceof x.MS?u(e.message):u("An unexpected error occurred. Please try again.")}finally{r(!1),console.log("\uD83C\uDFC1 ONBOARDING FORM SUBMIT COMPLETED")}},I=(e,r)=>{R({[e]:r}),k[e]&&D(r=>({...r,[e]:""})),s&&u("")};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-black dark:to-gray-900 p-4",children:(0,a.jsxs)(m.Zb,{className:"w-full max-w-2xl",children:[(0,a.jsxs)(m.Ol,{className:"text-center",children:[(0,a.jsx)(m.ll,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Tell us about your business"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Help us customize your experience by sharing some details about your business"})]}),(0,a.jsx)(m.aY,{children:(0,a.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[s&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800 dark:text-red-400",children:s}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),(0,a.jsx)(f.I,{label:"Business Name",placeholder:"Enter your business name",value:(null==C?void 0:C.name)||"",onChange:e=>I("name",e.target.value),error:k.name,className:"pl-10"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),(0,a.jsx)(f.I,{label:"Website (Optional)",placeholder:"https://yourwebsite.com",value:(null==C?void 0:C.website)||"",onChange:e=>I("website",e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"relative md:col-span-2",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),(0,a.jsx)(f.I,{label:"Business Address (Optional)",placeholder:"Full business address",value:(null==C?void 0:C.address)||"",onChange:e=>I("address",e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400 z-10"}),(0,a.jsx)(p.P,{label:"Number of Employees (Optional)",placeholder:"Select team size",options:N,value:(null==C?void 0:C.number_of_employees)||"",onChange:e=>I("number_of_employees",e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400 z-10"}),(0,a.jsx)(p.P,{label:"Type of Business",placeholder:"Select business type",options:v,value:(null==C?void 0:C.business_type)||"",onChange:e=>I("business_type",e.target.value),error:k.business_type,className:"pl-10"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),(0,a.jsx)(f.I,{label:"Phone Number",placeholder:"Your business phone",value:(null==C?void 0:C.phone_number)||"",onChange:e=>I("phone_number",e.target.value),error:k.phone_number,className:"pl-10"})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(b.Z,{className:"absolute left-3 top-8 h-4 w-4 text-gray-400"}),(0,a.jsx)(y.g,{label:"Business Description (Optional)",placeholder:"Tell us about your business...",value:(null==C?void 0:C.description)||"",onChange:e=>I("description",e.target.value),className:"pl-10 min-h-[100px]"})]}),(0,a.jsx)(g.z,{type:"submit",className:"w-full",size:"lg",isLoading:e,disabled:e,children:e?"Saving...":"Save & Continue"})]})})]})})}},2247:function(e,r,s){"use strict";s.d(r,{z:function(){return n}});var a=s(7437),t=s(2265),l=s(1628);let n=(0,t.forwardRef)((e,r)=>{let{className:s,variant:t="primary",size:n="md",isLoading:o,children:i,disabled:u,...d}=e;return(0,a.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 focus-visible:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500",default:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500"}[t],{sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-8 text-lg"}[n],s),ref:r,disabled:u||o,...d,children:[o&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});n.displayName="Button"},1844:function(e,r,s){"use strict";s.d(r,{Ol:function(){return o},Zb:function(){return n},aY:function(){return d},ll:function(){return i}});var a=s(7437),t=s(2265),l=s(1628);let n=(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-800 dark:bg-gray-900",s),...t})});n.displayName="Card";let o=(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...t})});o.displayName="CardHeader";let i=(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("h3",{ref:r,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...t})});i.displayName="CardTitle";let u=(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",s),...t})});u.displayName="CardDescription";let d=(0,t.forwardRef)((e,r)=>{let{className:s,...t}=e;return(0,a.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",s),...t})});d.displayName="CardContent"},4977:function(e,r,s){"use strict";s.d(r,{I:function(){return n}});var a=s(7437),t=s(2265),l=s(1628);let n=(0,t.forwardRef)((e,r)=>{let{className:s,type:t,label:n,error:o,...i}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[n&&(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n}),(0,a.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",o&&"border-red-500 focus-visible:ring-red-500",s),ref:r,...i}),o&&(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:o})]})});n.displayName="Input"},8674:function(e,r,s){"use strict";s.d(r,{P:function(){return o}});var a=s(7437),t=s(2265),l=s(1628),n=s(3523);let o=(0,t.forwardRef)((e,r)=>{let{className:s,label:t,error:o,options:i,placeholder:u,...d}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[t&&(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{className:(0,l.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:focus-visible:ring-blue-400 appearance-none pr-8",o&&"border-red-500 focus-visible:ring-red-500",s),ref:r,...d,children:[u&&(0,a.jsx)("option",{value:"",disabled:!0,children:u}),i.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,a.jsx)(n.Z,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400 pointer-events-none"})]}),o&&(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:o})]})});o.displayName="Select"},2606:function(e,r,s){"use strict";s.d(r,{g:function(){return n}});var a=s(7437),t=s(2265),l=s(1628);let n=(0,t.forwardRef)((e,r)=>{let{className:s,label:t,error:n,...o}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[t&&(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",n&&"border-red-500 focus-visible:ring-red-500",s),ref:r,...o}),n&&(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:n})]})});n.displayName="Textarea"},1628:function(e,r,s){"use strict";s.d(r,{cn:function(){return l}});var a=s(7042),t=s(4769);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.m6)((0,a.W)(r))}},4033:function(e,r,s){e.exports=s(94)}},function(e){e.O(0,[9061,5166,9843,3062,2971,2472,1744],function(){return e(e.s=3885)}),_N_E=e.O()}]);