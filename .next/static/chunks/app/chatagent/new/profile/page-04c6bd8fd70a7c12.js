(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7371],{3966:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},6564:function(e,t,a){Promise.resolve().then(a.bind(a,1153))},1153:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(7437),s=a(2265),n=a(4033),l=a(2247),i=a(6959),o=a(5223),d=a(3062),c=a(7071);let u={name:"",description:"",role_type:"general",tone:"friendly",instructions:""},g=e=>{switch(e){case"sales":return{orders:!0,catalog_lookup:!0,appointments:!0};case"support":case"lead_gen":return{orders:!1,catalog_lookup:!0,appointments:!0};default:return{orders:!1,catalog_lookup:!1,appointments:!1}}};function h(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{accessToken:a}=(0,d.tN)(),{addChatAgent:h}=(0,d.V6)(),[x,m]=(0,s.useState)(u),[p,b]=(0,s.useState)(!1),y=t.get("agentId");(0,s.useEffect)(()=>{y&&a&&f(parseInt(y))},[y,a]);let f=async e=>{try{b(!0);let t=await c.TJ.getChatAgent(e,a);m({name:t.name,description:t.description||"",role_type:"general",tone:"friendly",instructions:""})}catch(e){console.error("Failed to fetch agent for editing:",e)}finally{b(!1)}},k=async()=>{if(!x.name.trim()){alert("Please fill in all required fields");return}try{var t;b(!0);let r=null===(t=d.zF.getState().activeBusiness)||void 0===t?void 0:t.id;if(!r){alert("No active business found. Please set up your business first.");return}let s={name:x.name,role_type:x.role_type,business_id:r,description:x.description,capabilities:g(x.role_type)};if(console.log("\uD83D\uDE80 Submitting agent data:",s),(0,c.s6)()){let t={id:Date.now(),...s,status:"active",deployed:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_active:new Date().toISOString()};h(t),e.push("/chatagent/new/knowledgebase?agentId=".concat(t.id))}else{let t=await c.TJ.createChatAgent(s,a);console.log("✅ Agent creation response:",t),h(t),e.push("/chatagent/new/knowledgebase?agentId=".concat(t.id))}}catch(e){console.error("❌ Failed to create agent:",e),console.error("❌ Error details:",e instanceof Error?e.message:e),alert("Failed to create agent. Please try again.")}finally{b(!1)}};return(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Agent Profile"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Set up the basic information and behavior for your chat agent"})]}),(0,r.jsx)(o.Z,{data:x,onChange:e=>m(t=>({...t,...e}))}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(l.z,{onClick:k,disabled:!x.name.trim()||"general"===x.role_type||p,isLoading:p,className:"min-w-[120px]",children:p?"Creating...":"Create Agent & Continue"})})]})})}},5223:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(7437),s=a(3966);let n=[{value:"sales",label:"Sales Assistant",description:"Helps with product inquiries and sales"},{value:"support",label:"Customer Support",description:"Handles customer service and technical issues"},{value:"lead_gen",label:"Lead Generation",description:"Qualifies leads and gathers contact information"},{value:"general",label:"General Assistant",description:"Multi-purpose AI assistant"}],l=[{value:"friendly",label:"Friendly",description:"Warm and approachable tone"},{value:"professional",label:"Professional",description:"Formal and business-like tone"},{value:"casual",label:"Casual",description:"Relaxed and conversational tone"}];function i(e){let{data:t,onChange:a}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Agent Name *"}),(0,r.jsx)("input",{type:"text",value:t.name,onChange:e=>a({name:e.target.value}),placeholder:"e.g., Sales Assistant, Support Bot",className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),t.name.length>0&&t.name.length<3&&(0,r.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:"Agent name must be at least 3 characters long"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,r.jsx)("textarea",{value:t.description,onChange:e=>a({description:e.target.value}),placeholder:"Brief description of what this agent does...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.description.length,"/200 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Agent Role *"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>a({role_type:e.value}),className:"p-4 rounded-lg border-2 text-left transition-all ".concat(t.role_type===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"),children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Communication Tone"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:l.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>a({tone:e.value}),className:"p-4 rounded-lg border-2 text-left transition-all ".concat(t.tone===e.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-slate-600 hover:border-gray-300 dark:hover:border-slate-500"),children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom Instructions"}),(0,r.jsx)("textarea",{value:t.instructions,onChange:e=>a({instructions:e.target.value}),placeholder:"Provide specific instructions or personality traits for your agent...",rows:4,className:"w-full px-4 py-3 rounded-lg border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[t.instructions.length,"/500 characters"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,r.jsx)(s.Z,{className:"w-6 h-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:t.name||"New Agent"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.role_type," • ",t.tone," tone"]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCA1 Tips for creating a great agent"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,r.jsx)("li",{children:"• Choose a clear, descriptive name that reflects the agent's purpose"}),(0,r.jsx)("li",{children:"• Write a concise description explaining what the agent helps with"}),(0,r.jsx)("li",{children:"• Select the role that best matches your intended use case"}),(0,r.jsx)("li",{children:"• Choose a tone that matches your brand and target audience"}),(0,r.jsx)("li",{children:"• Add custom instructions for specific behaviors or knowledge"})]})]})]})}}},function(e){e.O(0,[9061,5166,9843,3062,9017,2971,2472,1744],function(){return e(e.s=6564)}),_N_E=e.O()}]);