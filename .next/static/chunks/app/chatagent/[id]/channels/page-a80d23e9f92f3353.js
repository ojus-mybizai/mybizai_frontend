(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5115],{2176:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},9883:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4280:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},6020:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},5367:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},261:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var s=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},6878:function(e,a,t){Promise.resolve().then(t.bind(t,7994))},7994:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return f}});var s=t(7437),r=t(2265),n=t(4033),l=t(2176),c=t(6020),i=t(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,i.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var d=t(261),u=t(4280),x=t(9883),g=t(5367),m=t(2247),h=t(3062),p=t(7071),b=t(1720);function y(){return(0,r.useEffect)(()=>{if(!window.FB){let e=document.createElement("script");e.src="https://connect.facebook.net/en_US/sdk.js",e.async=!0,e.defer=!0,e.crossOrigin="anonymous",e.onload=()=>{window.FB.init({appId:"781370637627825",cookie:!0,xfbml:!0,version:"v23.0"})},document.body.appendChild(e)}},[]),null}function f(){let e=(0,n.useRouter)(),a=(0,n.useParams)(),{accessToken:t}=(0,h.tN)(),{currentChatAgent:i,setChatAgentChannels:f}=(0,h.V6)(),j=parseInt(a.id),[v,k]=(0,r.useState)([]),[N,w]=(0,r.useState)([]),[C,A]=(0,r.useState)(!0),[_,D]=(0,r.useState)(!1),[Z,S]=(0,r.useState)(!1),[M,z]=(0,r.useState)(!1),[E,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&j&&B()},[j,t]);let B=async()=>{if(t)try{A(!0);let e=await p.C7.getChannels(t),a=await p.TJ.getChatAgentChannels(j,t);k(e);let s=a.channels.map(e=>e.id);w(s),console.log("\uD83D\uDCE1 CHANNELS LOADED:"),console.log("\uD83D\uDCCB Available channels:",e.length),console.log("\uD83D\uDD17 Agent linked channels:",s.length),console.log("✅ Selected channel IDs:",s)}catch(e){console.error("Failed to fetch channels data:",e),alert("Failed to load channels data. Please try again.")}finally{A(!1)}},F=e=>{let a=v.find(a=>a.id===e);(!a||!a.is_connected||N.includes(e))&&w(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},P=async()=>{if(t&&i)try{S(!0);let e=await p.TJ.updateChatAgentChannels(j,{channel_ids:N},t);if(e.success){let a=await p.TJ.getChatAgentChannels(j,t),s=a.channels.map(e=>e.id);w(s),console.log("✅ CHANNELS UPDATED:"),console.log("\uD83D\uDD17 New linked channels:",s),console.log("\uD83D\uDCCA Response:",e),alert("Successfully updated channels for agent. ".concat(e.linked_channels.length," channels linked."))}}catch(e){console.error("Failed to save channel configuration:",e),alert("Failed to save configuration. Please try again.")}finally{S(!1)}},O=async e=>{if(t)try{T(e),await p.C7.deleteChannel(e,t),k(a=>a.filter(a=>a.id!==e)),w(a=>a.filter(a=>a!==e)),alert("Channel deleted successfully!")}catch(e){console.error("Failed to delete channel:",e),alert("Failed to delete channel. Please try again.")}finally{T(null)}},I=e=>{switch(e){case"whatsapp":return(0,s.jsx)(l.Z,{className:"w-4 h-4 text-green-600"});case"instagram":return(0,s.jsx)(c.Z,{className:"w-4 h-4 text-pink-600"});case"facebook":return(0,s.jsx)(l.Z,{className:"w-4 h-4 text-blue-600"});case"telegram":return(0,s.jsx)(c.Z,{className:"w-4 h-4 text-blue-500"});case"website":return(0,s.jsx)(o,{className:"w-4 h-4 text-gray-600"});case"email":return(0,s.jsx)(c.Z,{className:"w-4 h-4 text-purple-600"});default:return(0,s.jsx)(d.Z,{className:"w-4 h-4 text-gray-600"})}},R=e=>e.is_connected&&N.includes(e.id)?{status:"Connected",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}:e.is_connected?{status:"Connected (Other Agent)",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"}:{status:"Disconnected",color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"};return C?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 px-2",children:[(0,s.jsx)(y,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Communication Channels"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Configure channels where ",i.name," will be available"]})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(m.z,{onClick:()=>{D(!0),B().finally(()=>D(!1))},disabled:_,variant:"outline",className:"flex items-center space-x-2",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 ".concat(_?"animate-spin":"")}),(0,s.jsx)("span",{children:_?"Refreshing...":"Refresh"})]}),(0,s.jsxs)(m.z,{onClick:()=>z(!0),className:"flex items-center space-x-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Channel"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Channels"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select channels to link to this agent"})]}),v.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.length," channel",1!==v.length?"s":""," available"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.length," selected"]})]}),(0,s.jsx)("div",{className:"grid gap-4 max-h-96 overflow-y-auto",children:v.map(e=>{let a=R(e),t=e.is_connected&&!N.includes(e.id);return(0,s.jsxs)("div",{className:"relative p-4 border rounded-lg cursor-pointer transition-all ".concat(N.includes(e.id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":t?"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>!t&&F(e.id),children:[(0,s.jsx)("button",{onClick:a=>{a.stopPropagation(),window.confirm('Are you sure you want to delete "'.concat(e.name,'"?'))&&O(e.id)},disabled:E===e.id,className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-red-500 disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete channel",children:(0,s.jsx)(g.Z,{className:"w-4 h-4 ".concat(E===e.id?"animate-pulse":"")})}),(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded border-2 mt-1 ".concat(N.includes(e.id)?"border-blue-500 bg-blue-500":"border-gray-300 dark:border-gray-600"),children:N.includes(e.id)&&(0,s.jsx)("div",{className:"w-full h-full bg-white rounded-sm flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[I(e.type),(0,s.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(a.color),children:a.status})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," channel for customer interactions."]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]})]},e.id)})})]}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)(d.Z,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No Channels Found"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"Connect your first communication channel to help your chat agent reach customers across different platforms."}),(0,s.jsxs)(m.z,{onClick:()=>z(!0),size:"lg",className:"flex items-center space-x-2 mx-auto",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Add Your First Channel"})]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6 sticky top-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Selected Channels:"}),N.length>0?(0,s.jsx)("div",{className:"space-y-2",children:N.map(e=>{let a=v.find(a=>a.id===e);return(0,s.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-3 py-2 rounded-lg text-sm",children:(null==a?void 0:a.name)||"Channel-".concat(e)},e)})}):(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No channels selected"})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-700",children:(0,s.jsx)(m.z,{onClick:P,disabled:Z,className:"w-full",children:Z?"Saving...":"Save Configuration"})})]})]})})]}),M&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:(0,s.jsx)(d.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Communication Channel"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connect your business accounts to reach customers"})]})]}),(0,s.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>z(!1),className:"hover:bg-gray-100 dark:hover:bg-slate-800",children:"✕"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-bold text-white",children:"META"})}),(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Meta Platforms"})]}),[{name:"WhatsApp Business",channel:"whatsapp",icon:l.Z,color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900/50",description:"Connect your WhatsApp Business account to send and receive messages directly through your chat agent.",features:["Real-time messaging","Message templates","Auto-replies"],isActive:!0},{name:"Instagram Direct",channel:"instagram",icon:c.Z,color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/50",description:"Connect your Instagram business account for direct messaging and story interactions.",features:["Direct messages","Story mentions","Quick replies"],isActive:!0},{name:"Facebook Messenger",channel:"messenger",icon:l.Z,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/50",description:"Integrate Facebook Messenger to handle customer inquiries from your business page.",features:["Page messages","Automated responses","Customer insights"],isActive:!0}].map(e=>(0,s.jsxs)("div",{className:"border rounded-xl p-5 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors ".concat(e.isActive?"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 opacity-75"),children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg ".concat(e.bgColor," flex items-center justify-center"),children:(0,s.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.color)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full animate-pulse ".concat(e.isActive?"bg-blue-500":"bg-gray-400")}),(0,s.jsx)("span",{className:"text-xs font-medium ".concat(e.isActive?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"),children:e.isActive?"Available Now":"Coming Soon"})]})]})]})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:e.description}),(0,s.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-2 mb-3",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,a)=>(0,s.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-slate-700 px-2 py-1 rounded",children:e},a))})}),e.isActive?(0,s.jsx)(b.Z,{channel:e.channel}):(0,s.jsxs)(m.z,{disabled:!0,className:"w-full opacity-50 cursor-not-allowed",variant:"outline",children:["Connect ",e.name]})]},e.name))]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-gray-400 to-gray-600 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs font-bold text-white",children:"SOON"})}),(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Other Platforms"})]}),[{name:"Telegram Bot",icon:c.Z,color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/50",description:"Create a Telegram bot to interact with customers on one of the fastest-growing platforms.",features:["Bot commands","Inline keyboards","Group management"]},{name:"Website Chat Widget",icon:o,color:"text-gray-600",bgColor:"bg-gray-100 dark:bg-gray-900/50",description:"Embed a chat widget on your website for instant customer support and lead generation.",features:["Live chat","Lead capture","Custom branding"]},{name:"Email Integration",icon:c.Z,color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900/50",description:"Connect your email accounts to manage customer communications and support tickets.",features:["Email routing","Auto-replies","Ticket management"]}].map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 opacity-75 hover:opacity-90 transition-opacity",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg ".concat(e.bgColor," flex items-center justify-center"),children:(0,s.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.color)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Coming Soon"})]})]})]})}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 leading-relaxed",children:e.description}),(0,s.jsx)("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-2 mb-3",children:(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,a)=>(0,s.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 bg-gray-200 dark:bg-slate-700 px-2 py-1 rounded",children:e},a))})}),(0,s.jsxs)(m.z,{disabled:!0,className:"w-full opacity-50 cursor-not-allowed",variant:"outline",children:["Connect ",e.name]})]},e.name))]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-700",children:(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"More platforms will be available in future updates. Stay tuned!"})})]})]})})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Chat agent not found"}),(0,s.jsx)(m.z,{onClick:()=>e.push("/chatagent"),children:"Back to Chat Agents"})]})}},1720:function(e,a,t){"use strict";t.d(a,{Z:function(){return l}});var s=t(7437),r=t(2265),n=t(3062);function l(e){let{channel:a}=e,[t,l]=(0,r.useState)(!1),{accessToken:c}=(0,n.tN)(),i=()=>{switch(a){case"instagram":return"pages_show_list,pages_manage_metadata,instagram_basic,instagram_manage_messages,pages_messaging";case"messenger":return"pages_show_list,pages_manage_metadata,pages_messaging";default:return"whatsapp_business_management,whatsapp_business_messaging,business_management"}},o=()=>"http://localhost:8000/api/v1/auth/facebook/exchange?channel=".concat(a);return(0,s.jsx)("button",{onClick:()=>{if(!window.FB){alert("Facebook SDK not loaded yet!");return}l(!0),window.FB.login(function(e){e.authResponse?(console.log("FB login success for ".concat(a,":"),e.authResponse),fetch(o(),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({accessToken:e.authResponse.accessToken,state:{channel:a}})}).then(e=>e.json()).then(e=>{console.log("Backend exchange result:",e),alert("".concat(a.charAt(0).toUpperCase()+a.slice(1)," connected successfully!"))}).catch(e=>{console.error("Error connecting ".concat(a,":"),e),alert("Something went wrong while connecting ".concat(a,"."))}).finally(()=>l(!1))):(alert("Login failed or cancelled"),l(!1))},{scope:i()})},disabled:t,className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:t?"Connecting ".concat(a,"..."):"Connect ".concat(a.charAt(0).toUpperCase()+a.slice(1))})}},2247:function(e,a,t){"use strict";t.d(a,{z:function(){return l}});var s=t(7437),r=t(2265),n=t(1628);let l=(0,r.forwardRef)((e,a)=>{let{className:t,variant:r="primary",size:l="md",isLoading:c,children:i,disabled:o,...d}=e;return(0,s.jsxs)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 focus-visible:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500",default:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500"}[r],{sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-8 text-lg"}[l],t),ref:a,disabled:o||c,...d,children:[c&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i]})});l.displayName="Button"},7071:function(e,a,t){"use strict";t.d(a,{C7:function(){return l},Jh:function(){return c},TJ:function(){return r},_h:function(){return n},s6:function(){return i}});var s=t(9843);let r=s.TJ,n=s._h,l=s.C7,c=s.Jh,i=()=>!1;console.log("\uD83D\uDE80 MyBizAI running in PRODUCTION mode - using real APIs")},1628:function(e,a,t){"use strict";t.d(a,{cn:function(){return n}});var s=t(7042),r=t(4769);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.m6)((0,s.W)(a))}},4033:function(e,a,t){e.exports=t(94)}},function(e){e.O(0,[9061,5166,9843,3062,2971,2472,1744],function(){return e(e.s=6878)}),_N_E=e.O()}]);