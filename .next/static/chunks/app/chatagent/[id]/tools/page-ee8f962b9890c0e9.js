(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1030],{3966:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},9883:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4280:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9409:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9031:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])},9892:function(e,t,a){Promise.resolve().then(a.bind(a,9397))},9397:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var s=a(7437),r=a(2265),l=a(4033),n=a(9409),i=a(9031),c=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var d=a(3966),u=a(2369),x=a(4280),g=a(9883),h=a(2247),m=a(3062),y=a(7071);function b(){let e=(0,l.useRouter)(),t=(0,l.useParams)(),{accessToken:a}=(0,m.tN)(),{currentChatAgent:c,setChatAgentTools:b}=(0,m.V6)(),p=parseInt(t.id),[f,v]=(0,r.useState)([]),[k,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[D,C]=(0,r.useState)(!1),[Z,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&p&&A()},[p,a]);let A=async()=>{if(a)try{w(!0);let e=await y.Jh.getTools(a),t=await y.TJ.getChatAgentTools(p,a);v(e);let s=t.tools.map(e=>e.id);j(s),console.log("\uD83D\uDD27 TOOLS LOADED:"),console.log("\uD83D\uDCCB Available tools:",e.length),console.log("\uD83D\uDD17 Agent linked tools:",s.length),console.log("✅ Selected tool IDs:",s)}catch(e){console.error("Failed to fetch tools data:",e),alert("Failed to load tools data. Please try again.")}finally{w(!1)}},M=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},z=async()=>{if(a&&c)try{T(!0);let e=await y.TJ.updateChatAgentTools(p,{tool_ids:k},a);if(e.success){let t=await y.TJ.getChatAgentTools(p,a),s=t.tools.map(e=>e.id);j(s),console.log("✅ TOOLS UPDATED:"),console.log("\uD83D\uDD17 New linked tools:",s),console.log("\uD83D\uDCCA Response:",e),alert("Successfully updated tools for agent. ".concat(e.linked_tools.length," tools linked."))}}catch(e){console.error("Failed to save tool configuration:",e),alert("Failed to save configuration. Please try again.")}finally{T(!1)}},S=e=>{switch(e){case"system":return(0,s.jsx)(n.Z,{className:"w-4 h-4 text-blue-600"});case"custom":return(0,s.jsx)(i.Z,{className:"w-4 h-4 text-green-600"});case"integration":return(0,s.jsx)(o,{className:"w-4 h-4 text-purple-600"});default:return(0,s.jsx)(d.Z,{className:"w-4 h-4 text-gray-600"})}},_=e=>k.includes(e.id)?{status:"Linked",color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}:e.enabled?{status:"Available",color:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}:{status:"Disabled",color:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"},O=e=>{switch(e){case"realtime":return(0,s.jsx)(u.Z,{className:"w-3 h-3 text-yellow-500"});case"background":return(0,s.jsx)(n.Z,{className:"w-3 h-3 text-blue-500"});case"scheduled":return(0,s.jsx)(o,{className:"w-3 h-3 text-purple-500"});default:return(0,s.jsx)(d.Z,{className:"w-3 h-3 text-gray-500"})}};return N?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6 px-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"AI Tools & Capabilities"}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Configure tools and integrations for ",c.name]})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(h.z,{onClick:()=>{C(!0),A().finally(()=>C(!1))},disabled:D,variant:"outline",className:"flex items-center space-x-2",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 ".concat(D?"animate-spin":"")}),(0,s.jsx)("span",{children:D?"Refreshing...":"Refresh"})]}),(0,s.jsxs)(h.z,{onClick:()=>e.push("/chatagent/".concat(p,"/tools/new")),disabled:0===f.length,className:"flex items-center space-x-2",children:[(0,s.jsx)(g.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Add Tool"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Available Tools"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select tools to enable for this agent"})]}),f.length>0?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.length," tool",1!==f.length?"s":""," available"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[k.length," selected"]})]}),(0,s.jsx)("div",{className:"grid gap-4 max-h-96 overflow-y-auto",children:f.map(e=>{let t=_(e),a=!e.enabled&&!k.includes(e.id);return(0,s.jsx)("div",{className:"relative p-4 border rounded-lg cursor-pointer transition-all ".concat(k.includes(e.id)?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":a?"border-gray-200 dark:border-gray-700 opacity-50 cursor-not-allowed":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>!a&&M(e.id),children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded border-2 mt-1 ".concat(k.includes(e.id)?"border-blue-500 bg-blue-500":"border-gray-300 dark:border-gray-600"),children:k.includes(e.id)&&(0,s.jsx)("div",{className:"w-full h-full bg-white rounded-sm flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[S(e.type),(0,s.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(t.color),children:t.status}),O(e.execution_mode)]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-500",children:[(0,s.jsx)("span",{className:"flex items-center space-x-1",children:(0,s.jsxs)("span",{children:["Type: ",e.type]})}),(0,s.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]})]})},e.id)})})]}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)(i.Z,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"No Tools Available"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-md mx-auto",children:"No tools are currently available. Tools provide additional capabilities for your chat agent."}),(0,s.jsxs)(h.z,{disabled:!0,size:"lg",className:"opacity-50 cursor-not-allowed",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Add Tool (No tools available)"]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-gray-200 dark:border-slate-800 p-6 sticky top-8",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Configuration"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Selected Tools:"}),k.length>0?(0,s.jsx)("div",{className:"space-y-2",children:k.map(e=>{let t=f.find(t=>t.id===e);return(0,s.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-3 py-2 rounded-lg text-sm",children:(null==t?void 0:t.name)||"Tool-".concat(e)},e)})}):(0,s.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No tools selected"})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-slate-700",children:(0,s.jsx)(h.z,{onClick:z,disabled:Z,className:"w-full",children:Z?"Saving...":"Save Configuration"})})]})]})})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Chat agent not found"}),(0,s.jsx)(h.z,{onClick:()=>e.push("/chatagent"),children:"Back to Chat Agents"})]})}},2247:function(e,t,a){"use strict";a.d(t,{z:function(){return n}});var s=a(7437),r=a(2265),l=a(1628);let n=(0,r.forwardRef)((e,t)=>{let{className:a,variant:r="primary",size:n="md",isLoading:i,children:c,disabled:o,...d}=e;return(0,s.jsxs)("button",{className:(0,l.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 focus-visible:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500",default:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500"}[r],{sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-8 text-lg"}[n],a),ref:t,disabled:o||i,...d,children:[i&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});n.displayName="Button"},7071:function(e,t,a){"use strict";a.d(t,{C7:function(){return n},Jh:function(){return i},TJ:function(){return r},_h:function(){return l},s6:function(){return c}});var s=a(9843);let r=s.TJ,l=s._h,n=s.C7,i=s.Jh,c=()=>!1;console.log("\uD83D\uDE80 MyBizAI running in PRODUCTION mode - using real APIs")},1628:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(7042),r=a(4769);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[9061,5166,9843,3062,2971,2472,1744],function(){return e(e.s=9892)}),_N_E=e.O()}]);