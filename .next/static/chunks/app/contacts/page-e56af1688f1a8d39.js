(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4613],{2812:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},2482:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},1295:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2741:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9883:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1827:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3314:function(e,t,r){Promise.resolve().then(r.bind(r,7285))},7285:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var a=r(7437),s=r(2265),n=r(4033),l=r(7972),i=r(9883),c=r(1827),d=r(2482),o=r(2549),h=r(2812),u=r(2741),x=r(1295),m=r(2247),f=r(4977),g=r(1844),y=r(3062),p=r(9843);function b(){let e=(0,n.useRouter)(),{accessToken:t}=(0,y.tN)(),{contacts:r,filters:b,isLoading:v,setContacts:j,setFilters:N,clearFilters:k,setLoading:w,removeContact:Z}=(0,y.sx)(),[C,M]=(0,s.useState)(!1),[z,F]=(0,s.useState)(null);(0,s.useEffect)(()=>{R()},[t,b]);let R=async()=>{if(t){w(!0);try{let e={search:b.search||void 0,phone:b.phone||void 0,email:b.email||void 0},r=await p.Zc.getContacts(t,e);j(r)}catch(e){console.error("Failed to fetch contacts:",e)}finally{w(!1)}}},_=async e=>{if(t){if(z!==e){F(e),setTimeout(()=>F(null),3e3);return}try{await p.Zc.deleteContact(e,t),Z(e),F(null)}catch(e){console.error("Failed to delete contact:",e),e instanceof Error&&alert("Failed to delete contact: ".concat(e.message))}}},A=b.search||b.phone||b.email;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 dark:from-indigo-600 dark:to-purple-700 flex items-center justify-center shadow-lg",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Contacts"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Customer directory"})]})]}),(0,a.jsxs)(m.z,{onClick:()=>e.push("/contacts/new"),className:"flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Contact"})]})]}),(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,a.jsx)(f.I,{placeholder:"Search contacts by name...",value:b.search,onChange:e=>N({search:e.target.value}),className:"pl-10"})]})}),(0,a.jsxs)(m.z,{variant:"outline",onClick:()=>M(!C),className:"flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Filters"}),A&&(0,a.jsx)("span",{className:"bg-blue-500 text-white rounded-full w-2 h-2"})]}),A&&(0,a.jsx)(m.z,{variant:"outline",onClick:k,children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})})]}),C&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(f.I,{placeholder:"Filter by phone...",value:b.phone,onChange:e=>N({phone:e.target.value})}),(0,a.jsx)(f.I,{placeholder:"Filter by email...",value:b.email,onChange:e=>N({email:e.target.value})})]})]})}),v?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Loading contacts..."})}):0===r.length?(0,a.jsx)(g.Zb,{children:(0,a.jsxs)(g.aY,{className:"text-center py-12",children:[(0,a.jsx)(l.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No contacts found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:A?"No contacts match your current filters. Try adjusting your search criteria.":"Get started by adding your first contact."}),!A&&(0,a.jsx)(m.z,{onClick:()=>e.push("/contacts/new"),children:"Add Your First Contact"})]})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(t=>(0,a.jsxs)(g.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(g.Ol,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.ll,{className:"text-lg",children:t.full_name}),t.company&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[(0,a.jsx)(h.Z,{className:"w-3 h-3 mr-1"}),t.company]})]})]})})}),(0,a.jsxs)(g.aY,{className:"space-y-3",children:[t.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("a",{href:"tel:".concat(t.phone),className:"hover:text-blue-600",children:t.phone})]}),t.email&&(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),(0,a.jsx)("a",{href:"mailto:".concat(t.email),className:"hover:text-blue-600",children:t.email})]}),t.notes&&(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:t.notes}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t",children:[(0,a.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>e.push("/contacts/".concat(t.id)),children:"View Details"}),(0,a.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>_(t.id),className:z===t.id?"bg-red-50 text-red-600 border-red-200":"",children:z===t.id?"Confirm Delete":"Delete"})]})]})]},t.id))}),!v&&r.length>0&&(0,a.jsxs)("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:["Showing ",r.length," contact",1!==r.length?"s":"",A&&" matching your filters"]})]})}},2247:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(7437),s=r(2265),n=r(1628);let l=(0,s.forwardRef)((e,t)=>{let{className:r,variant:s="primary",size:l="md",isLoading:i,children:c,disabled:d,...o}=e;return(0,a.jsxs)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{primary:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 focus-visible:ring-blue-500",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-100 dark:hover:bg-gray-700 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500",default:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800 focus-visible:ring-gray-500"}[s],{sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-11 px-8 text-lg"}[l],r),ref:t,disabled:d||i,...o,children:[i&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]})});l.displayName="Button"},1844:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var a=r(7437),s=r(2265),n=r(1628);let l=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border border-gray-200 bg-white shadow-lg dark:border-gray-800 dark:bg-gray-900",r),...s})});l.displayName="Card";let i=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let c=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle";let d=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let o=(0,s.forwardRef)((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent"},4977:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(7437),s=r(2265),n=r(1628);let l=(0,s.forwardRef)((e,t)=>{let{className:r,type:s,label:l,error:i,...c}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[l&&(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l}),(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-100 dark:ring-offset-gray-900 dark:placeholder:text-gray-400 dark:focus-visible:ring-blue-400",i&&"border-red-500 focus-visible:ring-red-500",r),ref:t,...c}),i&&(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})]})});l.displayName="Input"},1628:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(7042),s=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[9061,5166,9843,3062,2971,2472,1744],function(){return e(e.s=3314)}),_N_E=e.O()}]);