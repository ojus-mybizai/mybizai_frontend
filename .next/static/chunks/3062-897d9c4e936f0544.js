"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3062],{6541:function(e,t,a){a.d(t,{t:function(){return r}});var n=a(4660),s=a(4810);let r=(0,n.Ue)()((0,s.tJ)((0,s.XR)((e,t)=>({accessToken:null,tokenType:null,isAuthenticated:void 0,login:function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bearer";e({accessToken:t,tokenType:a,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("token_type"),e({accessToken:null,tokenType:null,isAuthenticated:!1})},initAuth:async()=>{try{{let t=localStorage.getItem("access_token");if(t)return e({accessToken:t,tokenType:"bearer",isAuthenticated:!0}),!0}return e({isAuthenticated:!1}),!1}catch(t){return console.error("Error initializing auth:",t),e({isAuthenticated:!1}),!1}},setAuthenticated:t=>{e({isAuthenticated:t})}})),{name:"auth-storage",partialize:e=>({accessToken:e.accessToken,tokenType:e.tokenType})}))},9223:function(e,t,a){a.d(t,{z:function(){return r}});var n=a(4660),s=a(4810);let r=(0,n.Ue)()((0,s.tJ)((0,s.XR)((e,t)=>({businessData:null,activeBusiness:null,setBusinessData:t=>{e({businessData:t})},setActiveBusiness:t=>{e({activeBusiness:t})},setBusinessInfo:t=>{e(e=>({businessData:e.businessData?{...e.businessData,onboarding_completed:t.business_onboarded}:null,activeBusiness:e.activeBusiness?{...e.activeBusiness,onboarding_completed:t.business_onboarded}:null}))},completeOnboarding:()=>{e(e=>({businessData:e.businessData?{...e.businessData,onboarding_completed:!0}:null,activeBusiness:e.activeBusiness?{...e.activeBusiness,onboarding_completed:!0}:null}))},updateBusinessData:t=>{e(e=>({businessData:e.businessData?{...e.businessData,...t}:{id:0,owner_id:0,name:"",phone_number:"",website:null,address:null,number_of_employees:null,type:"product",business_type:null,description:null,extra_data:{},onboarding_completed:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),...t},activeBusiness:e.activeBusiness?{...e.activeBusiness,...t}:null}))},clearBusinessData:()=>{e({businessData:null,activeBusiness:null})}})),{name:"business-storage",partialize:e=>({businessData:e.businessData,activeBusiness:e.activeBusiness})}))},3062:function(e,t,a){a.d(t,{tN:function(){return n.t},zF:function(){return r.z},iC:function(){return h},V6:function(){return o},sx:function(){return u},Ln:function(){return c},I1:function(){return g},Rx:function(){return d},LM:function(){return s.L}});var n=a(6541),s=a(4493),r=a(9223),i=a(4660),l=a(4810);let o=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({chatAgents:[],currentChatAgent:null,isLoading:!1,error:null,setChatAgents:t=>{e({chatAgents:t})},setCurrentChatAgent:t=>{e({currentChatAgent:t})},addChatAgent:t=>{e(e=>({chatAgents:[...e.chatAgents,t]}))},updateChatAgent:(t,a)=>{e(e=>{var n;return{chatAgents:e.chatAgents.map(e=>e.id===t?{...e,...a}:e),currentChatAgent:(null===(n=e.currentChatAgent)||void 0===n?void 0:n.id)===t?{...e.currentChatAgent,...a}:e.currentChatAgent}})},removeChatAgent:t=>{e(e=>{var a;return{chatAgents:e.chatAgents.filter(e=>e.id!==t),currentChatAgent:(null===(a=e.currentChatAgent)||void 0===a?void 0:a.id)===t?null:e.currentChatAgent}})},clearChatAgents:()=>{e({chatAgents:[],currentChatAgent:null,isLoading:!1,error:null})},setChatAgentChannels:(t,a)=>{e(e=>{var n;return{chatAgents:e.chatAgents.map(e=>e.id===t?{...e,channels:a}:e),currentChatAgent:(null===(n=e.currentChatAgent)||void 0===n?void 0:n.id)===t?{...e.currentChatAgent,channels:a}:e.currentChatAgent}})},setChatAgentKnowledgeBases:(t,a)=>{e(e=>{var n;return{chatAgents:e.chatAgents.map(e=>e.id===t?{...e,knowledge_bases:a}:e),currentChatAgent:(null===(n=e.currentChatAgent)||void 0===n?void 0:n.id)===t?{...e.currentChatAgent,knowledge_bases:a}:e.currentChatAgent}})},setChatAgentTools:(t,a)=>{e(e=>{var n;return{chatAgents:e.chatAgents.map(e=>e.id===t?{...e,tools:a}:e),currentChatAgent:(null===(n=e.currentChatAgent)||void 0===n?void 0:n.id)===t?{...e.currentChatAgent,tools:a}:e.currentChatAgent}})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})}})),{name:"chatagent-storage",partialize:e=>({chatAgents:e.chatAgents,currentChatAgent:e.currentChatAgent})})),u=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({contacts:[],isLoading:!1,filters:{search:"",phone:"",email:""},setContacts:t=>{e({contacts:t})},addContact:t=>{e(e=>({contacts:[...e.contacts,t]}))},updateContact:(t,a)=>{e(e=>({contacts:e.contacts.map(e=>e.id===t?a:e)}))},removeContact:t=>{e(e=>({contacts:e.contacts.filter(e=>e.id!==t)}))},setLoading:t=>{e({isLoading:t})},clearContacts:()=>{e({contacts:[],isLoading:!1})},setFilters:t=>{e(e=>({filters:{...e.filters,...t}}))},clearFilters:()=>{e({filters:{search:"",phone:"",email:""}})}})),{name:"contact-storage",partialize:e=>({contacts:e.contacts})})),c=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({stats:null,setStats:t=>{e({stats:t})},updateStats:t=>{e(e=>({stats:e.stats?{...e.stats,...t}:null}))},clearStats:()=>{e({stats:null})},refreshStats:async()=>{console.log("Refreshing dashboard stats...")}})),{name:"dashboard-storage",partialize:e=>({stats:e.stats})})),d=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({leads:[],currentLead:null,isLoading:!1,pagination:{page:1,per_page:20,total:0,total_pages:0},setLeads:(t,a)=>{a?e({leads:t,pagination:a}):e({leads:t})},setCurrentLead:t=>{e({currentLead:t})},addLead:t=>{e(e=>({leads:[...e.leads,t]}))},updateLead:(t,a)=>{e(e=>{var n;return{leads:e.leads.map(e=>e.id===t?a:e),currentLead:(null===(n=e.currentLead)||void 0===n?void 0:n.id)===t?a:e.currentLead}})},removeLead:t=>{e(e=>{var a;return{leads:e.leads.filter(e=>e.id!==t),currentLead:(null===(a=e.currentLead)||void 0===a?void 0:a.id)===t?null:e.currentLead}})},setLoading:t=>{e({isLoading:t})},setPagination:t=>{e({pagination:t})},clearLeads:()=>{e({leads:[],currentLead:null,isLoading:!1,pagination:{page:1,per_page:20,total:0,total_pages:0}})}})),{name:"lead-storage",partialize:e=>({leads:e.leads,currentLead:e.currentLead,pagination:e.pagination})}));a(6848),a(5483);let g=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({knowledgeBases:[],isLoading:!1,error:null,setKnowledgeBases:t=>{e({knowledgeBases:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},addKnowledgeBase:t=>{e(e=>({knowledgeBases:[...e.knowledgeBases,t]}))},updateKnowledgeBase:(t,a)=>{e(e=>({knowledgeBases:e.knowledgeBases.map(e=>e.id===t?{...e,...a}:e)}))},removeKnowledgeBase:t=>{e(e=>({knowledgeBases:e.knowledgeBases.filter(e=>e.id!==t)}))},clearKnowledgeBases:()=>{e({knowledgeBases:[],isLoading:!1,error:null})}})),{name:"knowledgebase-storage",partialize:e=>({knowledgeBases:e.knowledgeBases})}));(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({integrations:[],isLoading:!1,error:null,setIntegrations:t=>{e({integrations:t})},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},addIntegration:t=>{e(e=>({integrations:[...e.integrations,t]}))},updateIntegration:(t,a)=>{e(e=>({integrations:e.integrations.map(e=>e.id===t?{...e,...a}:e)}))},removeIntegration:t=>{e(e=>({integrations:e.integrations.filter(e=>e.id!==t)}))},clearIntegrations:()=>{e({integrations:[],isLoading:!1,error:null})}})),{name:"integration-storage",partialize:e=>({integrations:e.integrations})}));let h=(0,i.Ue)()((0,l.tJ)((0,l.XR)((e,t)=>({items:[],templates:[],isLoading:!1,searchQuery:"",filters:{},setItems:t=>{e({items:t})},addItem:t=>{e(e=>({items:[...e.items,t]}))},updateItem:(t,a)=>{e(e=>({items:e.items.map(e=>e.id===t?a:e)}))},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.id!==t)}))},setLoading:t=>{e({isLoading:t})},setSearchQuery:t=>{e({searchQuery:t})},setFilters:t=>{e({filters:t})},clearFilters:()=>{e({filters:{}})},clearItems:()=>{e({items:[],templates:[],isLoading:!1,searchQuery:"",filters:{}})},setTemplates:t=>{e({templates:t})},addTemplate:t=>{e(e=>({templates:[...e.templates,t]}))},updateTemplate:(t,a)=>{e(e=>({templates:e.templates.map(e=>e.id===t?a:e)}))},removeTemplate:t=>{e(e=>({templates:e.templates.filter(e=>e.id!==t)}))},clearTemplates:()=>{e({templates:[]})}})),{name:"catalog-storage",partialize:e=>({items:e.items,templates:e.templates,searchQuery:e.searchQuery,filters:e.filters})}))},5483:function(e,t,a){a.d(t,{N:function(){return r}});var n=a(4660),s=a(4810);let r=(0,n.Ue)()((0,s.tJ)((0,s.XR)((e,t)=>({isOpen:!0,toggleSidebar:()=>{e(e=>({isOpen:!e.isOpen}))},setSidebarOpen:t=>{e({isOpen:t})}})),{name:"sidebar-storage",partialize:e=>({isOpen:e.isOpen})}))},6848:function(e,t,a){a.d(t,{f:function(){return r}});var n=a(4660),s=a(4810);let r=(0,n.Ue)()((0,s.tJ)((0,s.XR)((e,t)=>({theme:localStorage.getItem("theme")||"light",setTheme:t=>{document.documentElement.classList.toggle("dark","dark"===t),localStorage.setItem("theme",t),e({theme:t})},toggleTheme:()=>{let e=t().theme;t().setTheme("light"===e?"dark":"light")}})),{name:"theme-storage"}))},4493:function(e,t,a){a.d(t,{L:function(){return r}});var n=a(4660),s=a(4810);let r=(0,n.Ue)()((0,s.tJ)((0,s.XR)((e,t)=>({user:null,setUser:t=>{e({user:t})},clearUser:()=>{e({user:null})},updateUser:t=>{e(e=>({user:e.user?{...e.user,...t}:null}))},reset:()=>{e({user:null})}})),{name:"user-storage",partialize:e=>({user:e.user})}))}}]);